{
  "meta": {
    "instanceId": "cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7"
  },
  "nodes": [
    {
      "id": "d9bae984-2ce7-4f6b-ab53-527ac9dfea3d",
      "name": "When clicking \"Execute Workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        680,
        320
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "32ecf73c-b6e9-4bd6-9ecc-d82c4c50d7b5",
      "name": "Reddit",
      "type": "n8n-nodes-base.reddit",
      "position": [
        880,
        320
      ],
      "parameters": {
        "keyword": "n8n",
        "location": "allReddit",
        "operation": "search",
        "additionalFields": {
          "sort": "new"
        }
      },
      "credentials": {},
      "typeVersion": 1
    },
    {
      "id": "4b560620-a101-4566-b066-4ce3f44d8b0c",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        120,
        180
      ],
      "parameters": {
        "width": 507.1052631578949,
        "height": 210.99380804953552,
        "content": "## ì´ ì›Œí¬í”Œë¡œìš°ê°€ í•˜ëŠ” ì¼\nâœ”ï¸ 1) n8nê³¼ ê´€ë ¨ë  ìˆ˜ ìˆëŠ” Reddit ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜´\n - ê°€ì¥ ê´€ë ¨ì„± ìˆëŠ” ê²Œì‹œë¬¼ì„ í•„í„°ë§ (ì§€ë‚œ 7ì¼ ì´ë‚´ì— ê²Œì‹œë˜ì—ˆê³ , 5íšŒ ì´ìƒ ì—…ë³´íŠ¸ë˜ì—ˆìœ¼ë©°, ì›ë³¸ ì½˜í…ì¸ ì„)\n\nâœ”ï¸ 2) ê²Œì‹œë¬¼ì´ ì‹¤ì œë¡œ n8nì— ê´€í•œì§€ í™•ì¸\n\nâœ”ï¸ 3) ë§Œì•½ ê·¸ë ‡ë‹¤ë©´, OpenAIë¡œ ë¶„ë¥˜."
      },
      "typeVersion": 1
    },
    {
      "id": "f3be9af5-b4ff-4f4e-a726-fc05fab94521",
      "name": "Set",
      "type": "n8n-nodes-base.set",
      "position": [
        1260,
        320
      ],
      "parameters": {
        "values": {
          "number": [
            {
              "name": "upvotes",
              "value": "={{ $json.ups }}"
            },
            {
              "name": "subredditSize",
              "value": "={{ $json.subreddit_subscribers }}"
            }
          ],
          "string": [
            {
              "name": "selftextTrimmed",
              "value": "={{ $json.selftext.substring(0,500) }}"
            },
            {
              "name": "subreddit",
              "value": "={{ $json.subreddit }}"
            },
            {
              "name": "date",
              "value": "={{ DateTime.fromSeconds($json.created).toLocaleString() }}"
            },
            {
              "name": "url",
              "value": "={{ $json.url }}"
            }
          ]
        },
        "options": {},
        "keepOnlySet": true
      },
      "typeVersion": 1
    },
    {
      "id": "b1dbf78f-c7c6-4ab7-a957-78d58c5e13e3",
      "name": "IF",
      "type": "n8n-nodes-base.if",
      "position": [
        1060,
        320
      ],
      "parameters": {
        "conditions": {
          "number": [
            {
              "value1": "={{ $json.ups }}",
              "value2": "=5",
              "operation": "largerEqual"
            }
          ],
          "string": [
            {
              "value1": "={{ $json.selftext }}",
              "operation": "isNotEmpty"
            }
          ],
          "dateTime": [
            {
              "value1": "={{ DateTime.fromSeconds($json.created).toISO() }}",
              "value2": "={{ $today.minus({days: 7}).toISO() }}"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "a3aa9e43-a824-4cc1-b4e6-d41a2e8e56cd",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        120,
        660
      ],
      "parameters": {
        "width": 504.4736842105267,
        "height": 116.77974205725066,
        "content": "## ë‹¨ì \nğŸ¤” ì›Œí¬í”Œë¡œìš°ëŠ” ê° Reddit ê²Œì‹œë¬¼ì˜ ì²˜ìŒ 500ìë§Œ ê³ ë ¤í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ n8nì´ ì´ ì–‘ ì´í›„ì— ì–¸ê¸‰ë˜ë©´, n8n.ioì— ëŒ€í•œ ê²Œì‹œë¬¼ë¡œ ë“±ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "b3d566aa-1645-4c2c-9704-15aa2e42bb12",
      "name": "IF1",
      "type": "n8n-nodes-base.if",
      "position": [
        1880,
        340
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.choices[0].text }}",
              "value2": "No",
              "operation": "contains"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "0ad54272-08b9-46d4-8e6a-1fb55a92d3e4",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        1680,
        520
      ],
      "parameters": {
        "mode": "combine",
        "options": {
          "fuzzyCompare": false,
          "includeUnpaired": true
        },
        "combinationMode": "mergeByPosition"
      },
      "typeVersion": 2
    },
    {
      "id": "288f53cc-0e53-4683-ac0e-debe0a3691b8",
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "position": [
        2340,
        540
      ],
      "parameters": {
        "mode": "combine",
        "options": {
          "fuzzyCompare": false,
          "includeUnpaired": true
        },
        "combinationMode": "mergeByPosition"
      },
      "typeVersion": 2
    },
    {
      "id": "46280db5-e4b0-4108-958a-763b6410caa0",
      "name": "SetFinal",
      "type": "n8n-nodes-base.set",
      "position": [
        2560,
        540
      ],
      "parameters": {
        "values": {
          "number": [
            {
              "name": "upvotes",
              "value": "={{ $json.upvotes }}"
            },
            {
              "name": "subredditSize",
              "value": "={{ $json.subredditSize }}"
            }
          ],
          "string": [
            {
              "name": "subreddit",
              "value": "={{ $json.subreddit }}"
            },
            {
              "name": "bulletSummary",
              "value": "={{ $json.text }}"
            },
            {
              "name": "date",
              "value": "={{ $json.date }}"
            },
            {
              "name": "url",
              "value": "={{ $json.url }}"
            }
          ]
        },
        "options": {},
        "keepOnlySet": true
      },
      "typeVersion": 1
    },
    {
      "id": "ac8c4847-4d73-4dce-9543-a199e8b11b51",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        120,
        400
      ],
      "parameters": {
        "width": 507.1052631578949,
        "height": 247.53869969040255,
        "content": "## ë‹¤ìŒ ë‹¨ê³„\n* OpenAI ìš”ì•½ ë…¸ë“œ í”„ë¡¬í”„íŠ¸ë¥¼ ê°œì„ í•˜ì—¬ ë” ê¹¨ë—í•œ ìš”ì•½ì„ ë°˜í™˜í•˜ë„ë¡ í•¨.\n* **ë” ë§ì€ í”Œë«í¼/ì†ŒìŠ¤**ë¡œ í™•ì¥ - ì˜ˆë¥¼ ë“¤ì–´, ì´ë ‡ê²Œ ë” í° ìŠ¬ë™ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì€ ì •ë§ ë©‹ì§ˆ ê²ƒì…ë‹ˆë‹¤.\n* ì‚¬ìš©ì ìœ í˜•ì— ëŒ€í•œ ë¶„ë¥˜ë¥¼ ìˆ˜í–‰í•˜ì—¬ ìš°ë¦¬ **ICP**ì— ì†í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì‚¬ìš©ìë¥¼ ê°•ì¡°í•©ë‹ˆë‹¤.\n* ë°ì´í„° ì†ŒìŠ¤ ëª©ë¡(reddit, twitter, slack, discord ë“±)ì„ ë¶„ë¦¬í•˜ì—¬ ê±°ê¸°ì—ì„œ ë©”ì‹œì§€ë¥¼ ì¶”ì¶œí•˜ê³  **ë¶„ë¥˜ ë° ìš”ì•½ì„ ìœ„í•œ ì„œë¸Œ ì›Œí¬í”Œë¡œ**ë¡œ ë³´ë‚´ê²Œ í•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "12ab5ba4-d24d-4fa1-a0d1-d1e81e2d5dee",
      "name": "OpenAI Summary",
      "type": "n8n-nodes-base.openAi",
      "notes": "A one sentence summary of what the post is about.",
      "disabled": true,
      "position": [
        2160,
        160
      ],
      "parameters": {
        "input": "={{ $json.selftextTrimmed }}",
        "options": {
          "temperature": 0.3
        },
        "operation": "edit",
        "instruction": "Summarise what this is talking about in a meta way less than 20 words. Ignore punctuation in your summary and return a short, human readable summary."
      },
      "credentials": {},
      "typeVersion": 1
    },
    {
      "id": "e303a1aa-ee93-4f8f-b834-19aa8da7fe95",
      "name": "OpenAI Classify",
      "type": "n8n-nodes-base.openAi",
      "notes": "Is the post about n8n?",
      "position": [
        1460,
        320
      ],
      "parameters": {
        "prompt": "=Decide whether a reddit post is about n8n.io, a workflow automation low code tool that can be self-hosted, or not.\nReddit Post: {{ $json.selftextTrimmed }}\nAbout n8n?: Yes/No",
        "options": {
          "maxTokens": 32
        },
        "simplifyOutput": false
      },
      "credentials": {},
      "notesInFlow": true,
      "typeVersion": 1
    },
    {
      "id": "f56cb8b6-4c28-448e-b259-8946ffc4c1f7",
      "name": "OpenAI Summary Backup",
      "type": "n8n-nodes-base.openAi",
      "notes": "A one sentence summary of what the post is about.",
      "position": [
        2160,
        340
      ],
      "parameters": {
        "prompt": "=Summarise what this is talking about in a meta way in only 1 sentence.\n\n {{ $json.selftextTrimmed }}",
        "options": {
          "maxTokens": 128
        }
      },
      "credentials": {},
      "typeVersion": 1
    },
    {
      "id": "d1eacbf2-9cc8-482d-a7d2-34c351f20871",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        640,
        520
      ],
      "parameters": {
        "width": 843.411496498402,
        "height": 258.676790119369,
        "content": "## ìš°ë¦¬ê°€ ë°°ìš´ ê²ƒ\n\n- ğŸª¶ **í”„ë¡¬í”„íŠ¸ ì‘ì„±**: í”„ë¡¬í”„íŠ¸ ìœ í˜•ì˜ ì‘ì€ ë³€í™”ê°€ ê²°ê³¼ì— í° ì°¨ì´ë¥¼ ì´ˆë˜í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìš”ì•½ì„ ìœ„í•´ OpenAIì— ë‹¨ í•œ ë¬¸ì¥ë§Œ ì‚¬ìš©í•˜ë¼ê³  ìš”ì²­í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì—¬ëŸ¬ ë¬¸ì¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. OpenAIì˜ ë¬¸ì„œë¥¼ ë”°ë¥´ì ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.\n- ìƒˆ ì‚¬ìš©ìë“¤ì´ OpenAI ë…¸ë“œë¥¼ ë” ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë…¸ë“œ ì…ë ¥ì„ APIì— íŒŒë¼ë¯¸í„°ë¥¼ ë³´ë‚´ëŠ” ë° ì´ˆì ì„ ë§ì¶”ì§€ ì•Šê³  [ê·¸ë“¤ì˜ ì œì•ˆ](https://platform.openai.com/docs/guides/completion/prompt-design)ì„ ë”°ë¥´ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡¬í”„íŠ¸ í•„ë“œ ëŒ€ì‹  ì˜ˆìƒ ì¶œë ¥ í˜•ì‹ í•„ë“œë¥¼ ë‘ëŠ” ê²ƒì…ë‹ˆë‹¤.\n- â†•ï¸ **max_tokens ë§¤ê°œë³€ìˆ˜ ë³€ê²½**ì€ ê²°ê³¼ë¥¼ í¬ê²Œ ë³€í™”ì‹œí‚µë‹ˆë‹¤ - ë•Œë¡œëŠ” ë” ì‘ê²Œ ì„¤ì •í•˜ë©´ ê²°ê³¼ê°€ ê°œì„ ë˜ê¸°ë„ í•©ë‹ˆë‹¤ (ì˜ˆ: OpenAI Classify ë…¸ë“œì—ì„œ yes/no ì‘ë‹µì„ ì›í•  ë•Œ). ê·¸ë“¤ì˜ [ë¬¸ì„œ](https://platform.openai.com/docs/guides/completion/inserting-text)ì—ì„œ max_tokens>256ì„ ì¶”ì²œí•˜ì§€ë§Œ, [n8nì˜ ê¸°ë³¸ ì„¤ì •](https://community.n8n.io/t/openai-result-not-complete/21533)ì—ì„œëŠ” max_tokens=16ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì•„ë§ˆë„ ì´ë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•  ê²ƒì…ë‹ˆë‹¤."
      },
      "typeVersion": 1
    }
  ],
  "connections": {
    "IF": {
      "main": [
        [
          {
            "node": "Set",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF1": {
      "main": [
        null,
        [
          {
            "node": "OpenAI Summary Backup",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Set": {
      "main": [
        [
          {
            "node": "OpenAI Classify",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "IF1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "SetFinal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reddit": {
      "main": [
        [
          {
            "node": "IF",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Classify": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Summary Backup": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking \"Execute Workflow\"": {
      "main": [
        [
          {
            "node": "Reddit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}