{
  "id": "Nfh274NHoDy7pB4M",
  "meta": {
    "instanceId": "00493e38fecfc163cb182114bc2fab90114038eb9aad665a7a752d076920d3d5",
    "templateCredsSetupCompleted": true
  },
  "name": "Integrating AI with Open-Meteo API for Enhanced Weather Forecasting",
  "tags": [],
  "nodes": [
    {
      "id": "80debfe0-c591-4ba1-aca1-068adac62aa9",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        100,
        -300
      ],
      "webhookId": "4a44e974-db62-4727-9913-12a22bc88e01",
      "parameters": {
        "public": true,
        "options": {
          "title": "N8N ğŸ‘‹",
          "subtitle": "Weather Assistant: Example of Tools Using ChatGPT",
          "allowFileUploads": false,
          "loadPreviousSession": "memory"
        },
        "initialMessages": "Type like this: Weather Forecast for the Next 7 Days in SÃ£o Paulo"
      },
      "typeVersion": 1.1
    },
    {
      "id": "ec375027-1c0d-438b-9fca-7bc4fbef2479",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        420,
        -60
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "bhRvwBXztNmJVObo",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "bd2f5967-8188-4b1f-9255-8008870aaf7b",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -540,
        -640
      ],
      "parameters": {
        "color": 5,
        "width": 500,
        "height": 720,
        "content": "## AIë¥¼ Open-Meteo APIì™€ í†µí•©í•˜ì—¬ í–¥ìƒëœ ë‚ ì”¨ ì˜ˆë³´\n\n## ì‚¬ìš© ì‚¬ë¡€\n\n### ì›Œí¬ìˆ\n\nì›Œí¬ìˆì—ì„œ ì´ ì›Œí¬í”Œë¡œë¥¼ ì‚¬ìš©í•˜ì—¬ ë„êµ¬, ì¦‰ í•¨ìˆ˜ë¥¼ ì¸ê³µ ì§€ëŠ¥ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê°€ë¥´ì¹©ë‹ˆë‹¤. ì´ íŠ¹ì • ì‚¬ë¡€ì—ì„œ, ìš°ë¦¬ëŠ” ì¼ë°˜ì ì¸ \"AI ì—ì´ì „íŠ¸\" ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ ë°ì´í„° ì œê³µìë¡œë¶€í„°ì˜ ë‹¤ë¥¸ ëª¨ë¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n### í–¥ìƒëœ ë‚ ì”¨ ì˜ˆë³´\n\nì´ ì‘ì€ ì˜ˆì œì—ì„œ, Open-Meteo ì‚¬ì´íŠ¸ì—ì„œ ë‚ ì”¨ ì˜ˆë³´ ê²°ê³¼ë¥¼ ì–»ì–´ ë‹¤ê°€ì˜¤ëŠ” ë‚ ë“¤ì„ ì •í™•í•˜ê²Œ í‘œì‹œí•˜ëŠ” ë°©ë²•ì„ ì‰½ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ì—¬í–‰ ê³„íšì„ ì„¸ìš°ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì´ ì›Œí¬í”Œë¡œê°€ í•˜ëŠ” ì¼\n\n1. ë„ì‹œì˜ ì§€ë¦¬ì  ì¢Œí‘œë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ HTTP ìš”ì²­ì„ í•©ë‹ˆë‹¤.\n2. ê·¸ëŸ° ë‹¤ìŒ, ë‹¤ê°€ì˜¤ëŠ” ë‚ ë“¤ì˜ ë‚ ì”¨ë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ ë‹¤ë¥¸ HTTP ìš”ì²­ì„ í•©ë‹ˆë‹¤.\n\nì´ ì›Œí¬ìˆì—ì„œ, AIê°€ ë¨¼ì € ì–´ë–¤ ë„êµ¬ë¥¼ í˜¸ì¶œí• ì§€ ê²°ì •í•  ìˆ˜ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤â€”ë¨¼ì € ì§€ë¦¬ ìœ„ì¹˜ ë„êµ¬ë¥¼ í˜¸ì¶œí•œ ë‹¤ìŒ ë‚ ì”¨ ì˜ˆë³´ ë„êµ¬ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì´ ëª¨ë“  ê²ƒì´ ë‹¨ì¼ í´ë¼ì´ì–¸íŠ¸ ëŒ€í™” í˜¸ì¶œ ë‚´ì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\n## ì„¤ì •\n\nOpenAI í‚¤ë¥¼ ì‚½ì…í•˜ê³  ì›Œí¬í”Œë¡œë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤.\n\nby Davi Saranszky Mesquita  \nhttps://www.linkedin.com/in/mesquitadavi/"
      },
      "typeVersion": 1
    },
    {
      "id": "3cfeea52-a310-4101-8377-0f393bf54c8d",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        60,
        -440
      ],
      "parameters": {
        "width": 340,
        "height": 220,
        "content": "í˜¸ìŠ¤íŒ…ëœ ì›¹ ì±„íŒ… ìƒì„±\n\nê·¸ë¦¬ê³  íŠ¸ë¦¬ê±° ì„¤ì •!\n\nì˜ˆì‹œ: https://website/webhook/4a4..../chat"
      },
      "typeVersion": 1
    },
    {
      "id": "55713ffc-da61-4594-99f4-ca6b448cbee2",
      "name": "Generic AI Tool Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        440,
        -300
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 1.7
    },
    {
      "id": "7f608ddc-87bb-4e54-84a8-4db6b7f95011",
      "name": "Chat Memory Buffer",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        200,
        -60
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "77f82443-1efe-47d3-92ec-aa193853c8a5",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        320,
        0
      ],
      "parameters": {
        "width": 260,
        "content": "OpenAI í‚¤ ì„¤ì •"
      },
      "typeVersion": 1
    },
    {
      "id": "ed37ea94-3cff-47cb-bf45-bce620b0f056",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        780,
        60
      ],
      "parameters": {
        "color": 4,
        "width": 280,
        "height": 360,
        "content": "### Open Meteo SPEC - ë„ì‹œ ì§€ë¦¬ ìœ„ì¹˜\n\nì´ ë„êµ¬ëŠ” https://geocoding-api.open-meteo.com/v1/search URLë¡œ ì´ë™í•˜ì—¬ ë„ì‹œì˜ ì§€ë¦¬ ìœ„ì¹˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì´ë©°, ë‚˜ëŠ” ë„ì‹œì˜ ì´ë¦„ë§Œ ê°€ì ¸ì˜¤ë©´ ë©ë‹ˆë‹¤.\n\në”°ë¼ì„œ, ë‚˜ëŠ” ì‚¬ìš©ìì—ê²Œ ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ë„ë¡ ìš”ì²­í•˜ê³ , ì²« ë²ˆì§¸ ë„ì‹œë§Œ ë°˜í™˜í•˜ë„ë¡ í•˜ëŠ” ë“± ê¸°ì¡´ ì •ë³´ë¥¼ ì „ë‹¬í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ë„ë¡ í•  ê²ƒì…ë‹ˆë‹¤.\n\n- name (By Model) - ê·¸ë¦¬ê³  í”Œë ˆì´ìŠ¤í™€ë” - AIê°€ í•„ìš”ì— ë”°ë¼ ì±„ì›Œì•¼ í•  ë§¤ê°œë³€ìˆ˜.\n\n- count - 1 ê¸°ë³¸ê°’, ì™œëƒí•˜ë©´ ë‚˜ëŠ” ì²« ë²ˆì§¸ ë„ì‹œë§Œ ì›í•˜ê¸° ë•Œë¬¸.\n\n- format - íŠ¹ë³„í•œ ì´ìœ  ì—†ì´ JSONì„ ì§€ì •, í•˜ì§€ë§Œ OpenAIê°€ ê·¸ ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë‚¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "f9b0e65d-a85e-4511-bdd2-adf54b1c039d",
      "name": "A tool to get the weather forecast based on geolocation",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "position": [
        1100,
        -160
      ],
      "parameters": {
        "url": "https://api.open-meteo.com/v1/forecast",
        "sendQuery": true,
        "parametersQuery": {
          "values": [
            {
              "name": "latitude"
            },
            {
              "name": "longitude"
            },
            {
              "name": "daily",
              "value": "temperature_2m_max,precipitation_sum",
              "valueProvider": "fieldValue"
            },
            {
              "name": "timezone",
              "value": "GMT",
              "valueProvider": "fieldValue"
            },
            {
              "name": "forecast_days"
            }
          ]
        },
        "toolDescription": "To get forecast of next [forecast_days] input the geolocation of an City",
        "placeholderDefinitions": {
          "values": [
            {
              "name": "longitude",
              "type": "number",
              "description": "longitude"
            },
            {
              "name": "latitude",
              "type": "number",
              "description": "latitude"
            },
            {
              "name": "forecast_days",
              "type": "number",
              "description": "forecast_days number of days ahead"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "76382491-dd75-4b51-a2d8-cb9782246af8",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1240,
        -220
      ],
      "parameters": {
        "color": 4,
        "width": 280,
        "height": 320,
        "content": "### Open Meteo ì‚¬ì–‘ - ë‚ ì”¨ ì˜ˆë³´\n\nì´ ë„êµ¬ëŠ” https://api.open-meteo.com/v1/forecastì—ì„œ ì§€ë¦¬ì  ìœ„ì¹˜ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ Open Meteo ì‚¬ì´íŠ¸ë¡œ ì´ë™í•  ê²ƒì…ë‹ˆë‹¤.\n\nìœ„ë„, ê²½ë„, ê·¸ë¦¬ê³  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ì¼ ìˆ˜ì— ëŒ€í•œ ì •ë³´ë¥¼ ì „ë‹¬í•  ê²ƒì…ë‹ˆë‹¤.\n\nê·¸ ì•ˆì—ëŠ” ë§ì€ ê¸°ë³¸ ì •ë³´ê°€ ìˆì§€ë§Œ, Open Meteo APIë¥¼ ì„¤ëª…í•˜ëŠ” ë° ì´ˆì ì„ ë§ì¶”ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nìœ„ë„, ê²½ë„, ê·¸ë¦¬ê³  forecast_daysì™€ ê°™ì€ ë³€ìˆ˜ëŠ” OpenAIì—ê²Œ ìëª…í•˜ë©°, ì´ë¥¼ ê°€ì¥ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤.\n\n- ìœ„ë„ (ëª¨ë¸ì— ì˜í•´) and Placeholder\n- ê²½ë„ (ëª¨ë¸ì— ì˜í•´) and Placeholder\n- forecast_days (ëª¨ë¸ì— ì˜í•´) and Placeholder"
      },
      "typeVersion": 1
    },
    {
      "id": "1c8087ce-6800-4ece-8234-23914e21a692",
      "name": "A tool for inputting the city and obtaining geolocation",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "position": [
        820,
        -100
      ],
      "parameters": {
        "url": "=https://geocoding-api.open-meteo.com/v1/search",
        "sendQuery": true,
        "parametersQuery": {
          "values": [
            {
              "name": "name"
            },
            {
              "name": "count",
              "value": "1",
              "valueProvider": "fieldValue"
            },
            {
              "name": "format",
              "value": "json",
              "valueProvider": "fieldValue"
            }
          ]
        },
        "toolDescription": "Input the City and get geolocation, geocode or coordinates from Requested City",
        "placeholderDefinitions": {
          "values": [
            {
              "name": "name",
              "type": "string",
              "description": "Requested City"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "15ae7421-eff9-4677-b8cf-b7bbb5d2385e",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -100,
        340
      ],
      "parameters": {
        "color": 3,
        "width": 840,
        "height": 80,
        "content": "N8N ë‚´ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì±„íŒ… ë²„íŠ¼ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë˜ëŠ” íŠ¸ë¦¬ê±°ì—ì„œ ë‚˜ì˜¨ ì™¸ë¶€ ì±„íŒ… ë§í¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
      },
      "typeVersion": 1
    }
  ],
  "active": true,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "778e2544-db78-4836-8bd1-771f333a621c",
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Generic AI Tool Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Chat Memory Buffer": {
      "ai_memory": [
        [
          {
            "node": "When chat message received",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "Generic AI Tool Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Generic AI Tool Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "A tool for inputting the city and obtaining geolocation": {
      "ai_tool": [
        [
          {
            "node": "Generic AI Tool Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "A tool to get the weather forecast based on geolocation": {
      "ai_tool": [
        [
          {
            "node": "Generic AI Tool Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  }
}