{
  "active": false,
  "connections": {
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "index": 0,
            "node": "Vision-based Scraping Agent",
            "type": "ai_languageModel"
          }
        ]
      ]
    },
    "Google Sheets - Get list of URLs": {
      "main": [
        [
          {
            "index": 0,
            "node": "Set fields",
            "type": "main"
          }
        ]
      ]
    },
    "HTML-based Scraping Tool": {
      "ai_tool": [
        [
          {
            "index": 0,
            "node": "Vision-based Scraping Agent",
            "type": "ai_tool"
          }
        ]
      ]
    },
    "HTML-Scraping Tool": {
      "main": [
        [
          {
            "index": 0,
            "node": "Set fields - from AI agent query",
            "type": "main"
          }
        ]
      ]
    },
    "ScrapingBee - Get page screenshot": {
      "main": [
        [
          {
            "index": 0,
            "node": "Vision-based Scraping Agent",
            "type": "main"
          }
        ]
      ]
    },
    "ScrapingBee- Get page HTML": {
      "main": [
        [
          {
            "index": 0,
            "node": "HTML to Markdown",
            "type": "main"
          }
        ]
      ]
    },
    "Set fields": {
      "main": [
        [
          {
            "index": 0,
            "node": "ScrapingBee - Get page screenshot",
            "type": "main"
          }
        ]
      ]
    },
    "Set fields - from AI agent query": {
      "main": [
        [
          {
            "index": 0,
            "node": "ScrapingBee- Get page HTML",
            "type": "main"
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "index": 0,
            "node": "Google Sheets - Create Rows",
            "type": "main"
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "index": 0,
            "node": "Vision-based Scraping Agent",
            "type": "ai_outputParser"
          }
        ]
      ]
    },
    "Vision-based Scraping Agent": {
      "main": [
        [
          {
            "index": 0,
            "node": "Split Out",
            "type": "main"
          }
        ]
      ]
    },
    "When clicking â€˜Test workflowâ€™": {
      "main": [
        [
          {
            "index": 0,
            "node": "Google Sheets - Get list of URLs",
            "type": "main"
          }
        ]
      ]
    }
  },
  "id": "PpFVCrTiYoa35q1m",
  "meta": {
    "instanceId": "b9faf72fe0d7c3be94b3ebff0778790b50b135c336412d28fd4fca2cbbf8d1f5",
    "templateCredsSetupCompleted": true
  },
  "name": "Vision-Based AI Agent Scraper - with Google Sheets, ScrapingBee, and Gemini",
  "nodes": [
    {
      "id": "90ac8845-342e-4fdb-ae09-cb9d169b4119",
      "name": "When clicking â€˜Test workflowâ€™",
      "parameters": {},
      "position": [
        160,
        460
      ],
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1
    },
    {
      "id": "7a2bfc41-1527-448d-a52c-794ca4c9e7ee",
      "name": "ScrapingBee- Get page HTML",
      "parameters": {
        "options": {},
        "queryParameters": {
          "parameters": [
            {
              "name": "api_key",
              "value": "<your_scrapingbee_apikey>"
            },
            {
              "name": "url",
              "value": "={{$json.url}}"
            }
          ]
        },
        "sendQuery": true,
        "url": "https://app.scrapingbee.com/api/v1"
      },
      "position": [
        2280,
        1360
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "a0ab6dcb-ffad-40bf-8a22-f2e152e69b00",
      "name": "Structured Output Parser",
      "parameters": {
        "jsonSchemaExample": "[{\n \"product_title\":\"The title of the product\",\n \"product_price\":\"The price of the product\",\n \"product_brand\": \"The brand of the product\",\n \"promo\":\"true or false\",\n \"promo_percentage\":\"NUM %\"\n}]"
      },
      "position": [
        2480,
        880
      ],
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2
    },
    {
      "credentials": {
        "googlePalmApi": {
          "id": "",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "id": "34f50603-a969-425d-8a1a-ec8031a5cdfd",
      "name": "Google Gemini Chat Model",
      "parameters": {
        "modelName": "models/gemini-1.5-pro-latest",
        "options": {}
      },
      "position": [
        1800,
        900
      ],
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1
    },
    {
      "id": "2054612e-f3e1-4633-9c1a-0644ae07613c",
      "name": "Split Out",
      "parameters": {
        "fieldToSplitOut": "output",
        "options": {}
      },
      "position": [
        2880,
        460
      ],
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1
    },
    {
      "credentials": {
        "googleApi": {
          "id": "",
          "name": "Google Sheets account"
        }
      },
      "id": "1a59a962-f483-4a27-8686-607a7d375584",
      "name": "Google Sheets - Get list of URLs",
      "parameters": {
        "authentication": "serviceAccount",
        "documentId": {
          "__rl": true,
          "cachedResultName": "Google Sheets - Workflow Vision-Based Scraping",
          "cachedResultUrl": "",
          "mode": "list",
          "value": ""
        },
        "options": {},
        "sheetName": {
          "__rl": true,
          "cachedResultName": "List of URLs",
          "cachedResultUrl": "",
          "mode": "list",
          "value": "gid=0"
        }
      },
      "position": [
        620,
        460
      ],
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5
    },
    {
      "id": "e33defac-e5c4-4bf5-ae31-98cf6f1d2579",
      "name": "Sticky Note",
      "parameters": {
        "color": 7,
        "content": "ê¸°ë³¸ íŠ¸ë¦¬ê±°ëŠ” **â€˜Test workflowâ€™ë¥¼ í´ë¦­í•  ë•Œ**ì…ë‹ˆë‹¤. ì´ëŠ” ì›Œí¬í”Œë¡œê°€ **ìˆ˜ë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°í•´ì•¼ í•¨**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì´ë¥¼ **ì›í•˜ëŠ” íŠ¸ë¦¬ê±°ë¥¼ ì„ íƒí•˜ì—¬** ëŒ€ì²´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "height": 652.6453488372096,
        "width": 364.53488372093034
      },
      "position": [
        76.45348837209309,
        -6.191860465116179
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "9f56e57e-8505-4a7a-a531-f7df87a6ea9c",
      "name": "Sticky Note1",
      "parameters": {
        "color": 7,
        "content": "## Google Sheets - URL ëª©ë¡\n\nGoogle ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ëŠ” ë‘ ê°œì˜ ì‹œíŠ¸ê°€ í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤: \n- **ìŠ¤í¬ë˜í•‘í•  URL ëª©ë¡** \n- **ê²°ê³¼** í˜ì´ì§€, ìŠ¤í¬ë˜í•‘ ê²°ê³¼ì™€ AI ì¶”ì¶œ ë°ì´í„°ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤.\n\nì—¬ê¸° [ì˜ˆì‹œ Google ìŠ¤í”„ë ˆë“œì‹œíŠ¸](https://docs.google.com/spreadsheets/d/10Gc7ooUeTBbOOE6bgdNe5vSKRkkcAamonsFSjFevkOE/)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. \"ê²°ê³¼\" ì‹œíŠ¸ëŠ” ì „ììƒê±°ë˜ ì›¹ì‚¬ì´íŠ¸ ìŠ¤í¬ë˜í•‘ì„ ìœ„í•´ ë¯¸ë¦¬ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìì‹ ì˜ íŠ¹ì • í•„ìš”ì— ë§ê²Œ ì¡°ì •í•  ìˆ˜ ìˆì§€ë§Œ, `Structured Output Parser` ë…¸ë“œë¥¼ ì ì ˆíˆ ì¡°ì •í•˜ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.",
        "height": 664.2441860465121,
        "width": 364.53488372093034
      },
      "position": [
        480,
        -12.906976744186068
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "e4497a81-6849-4c79-af45-40e518837e2e",
      "name": "Sticky Note2",
      "parameters": {
        "color": 7,
        "content": "## í•„ë“œ ì„¤ì •\n\nì´ ë…¸ë“œëŠ” ScrapingBee HTTP Nodeì™€ AI Agentì—ê²Œ ë³´ë‚´ì§ˆ í•„ë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ í…œí”Œë¦¿ì—ì„œ í•˜ë‚˜ì˜ í•„ë“œë§Œ ë¯¸ë¦¬ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤: url. í•„ìš”ì— ë”°ë¼ ì¶”ê°€ í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "height": 667.2965116279074,
        "width": 364.53488372093034
      },
      "position": [
        880,
        -15.959302325581348
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "82dcdc23-3d71-4281-a3d0-fdbc27327dd0",
      "name": "Set fields",
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c53c5ed2-9c7b-4365-9953-790264c722ab",
              "name": "url",
              "type": "string",
              "value": "={{ $json.url }}"
            }
          ]
        },
        "options": {}
      },
      "position": [
        1040,
        460
      ],
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4
    },
    {
      "id": "ad06f56f-4a02-49d6-9fda-94cdcfadec3b",
      "name": "Sticky Note3",
      "parameters": {
        "color": 7,
        "content": "## ScrapingBee - í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· ê°€ì ¸ì˜¤ê¸°\n\nì´ ë…¸ë“œëŠ” ê°•ë ¥í•œ ìŠ¤í¬ë˜í•‘ ë„êµ¬ì¸ ScrapingBeeë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” URLì˜ ìŠ¤í¬ë¦°ìƒ·ì„ ìº¡ì²˜í•©ë‹ˆë‹¤. \në‹¹ì‹ ì€ [ScrapingBeeë¥¼ ì‹œë„](https://www.scrapingbee.com/)í•  ìˆ˜ ìˆìœ¼ë©°, 1,000ê°œì˜ ë¬´ë£Œ ìš”ì²­ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë¹„ê³„ì—´ ë§í¬). \n\n`screenshot_full_page` ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ì²´ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·ì„ ìœ„í•´ *`true`*ë¡œ ì„¤ì •í•˜ì‹­ì‹œì˜¤. ì´ëŠ” AI ì—ì´ì „íŠ¸ì™€ì˜ ë¹„ì „ ê¸°ë°˜ ìŠ¤í¬ë˜í•‘ì— ì¤‘ìš”í•©ë‹ˆë‹¤. \n\nëŒ€ì•ˆìœ¼ë¡œ, ë‹¹ì‹ ì€ **í˜ì´ì§€ì˜ íŠ¹ì • ë¶€ë¶„ë§Œ ìŠ¤í¬ë¦°ìƒ·ìœ¼ë¡œ ì„ íƒ**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, **AI ì—ì´ì „íŠ¸ëŠ” visible ì„¹ì…˜ì—ì„œë§Œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤â€”ê·¸ê²ƒì€ ë¹„ì „ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, ìˆ˜ì • êµ¬ìŠ¬ì€ ì•„ë‹™ë‹ˆë‹¤** ğŸ”®!",
        "height": 671.8750000000002,
        "width": 364.53488372093034
      },
      "position": [
        1280,
        -20.537790697674154
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "01cbc1eb-2910-49b1-89e6-d32d340e5273",
      "name": "ScrapingBee - Get page screenshot",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36"
            }
          ]
        },
        "options": {},
        "queryParameters": {
          "parameters": [
            {
              "name": "api_key",
              "value": "<your_scrapingbee_apikey>"
            },
            {
              "name": "url",
              "value": "={{ $json.url }}"
            },
            {
              "name": "screenshot_full_page",
              "value": "true"
            }
          ]
        },
        "sendHeaders": true,
        "sendQuery": true,
        "url": "https://app.scrapingbee.com/api/v1"
      },
      "position": [
        1440,
        460
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "3e61d7cb-c2af-4275-b075-3dc14ed320b7",
      "name": "Sticky Note4",
      "parameters": {
        "color": 7,
        "content": "## ë¹„ì „ ê¸°ë°˜ ìŠ¤í¬ë˜í•‘ AI ì—ì´ì „íŠ¸\n\nì´ê²ƒì€ ì›Œí¬í”Œë¡œì˜ ì¤‘ì•™ ë…¸ë“œë¡œ, ë‘ ê°€ì§€ ì£¼ìš” í”„ë¡¬í”„íŠ¸ê°€ ìˆëŠ” AI ì—ì´ì „íŠ¸ì— ì˜í•´ êµ¬ë™ë©ë‹ˆë‹¤:\n\n- **System Prompt**: ìŠ¤í¬ë¦°ìƒ·ì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ëŠ” ë°©ë²•ê³¼ ì–´ë–¤ ë°ì´í„°ë¥¼ ì¶”ì¶œí• ì§€ AIì—ê²Œ ì§€ì‹œí•©ë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ ë§ì¶¤ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ìŠ¤í¬ë¦°ìƒ·ì—ì„œ ë°ì´í„° ì¶”ì¶œì— ì‹¤íŒ¨í•  ê²½ìš° HTML í˜ì´ì§€ë¥¼ ê²€ìƒ‰í•˜ëŠ” ë„êµ¬ë¥¼ í˜¸ì¶œí•˜ëŠ” ëŒ€ì²´ ì§€ì‹œê°€ í¬í•¨ë©ë‹ˆë‹¤. \n- **User Message**: ë§¥ë½ì„ ìœ„í•´ í˜ì´ì§€ URLì„ ì œê³µí•©ë‹ˆë‹¤.\n\n### Sub-Nodes\n\n1. **Google Gemini Chat Model**  \n   í…ŒìŠ¤íŠ¸ ê²°ê³¼ **Gemini-1.5-Pro**ê°€ ì‹œê° ì‘ì—…ì—ì„œ GPT-4ì™€ GPT-4-Visionì„ ëŠ¥ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ê¸° ë•Œë¬¸ì— ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤. *ë‚´ í”„ë¡¬í”„íŠ¸ê°€ GPT ëª¨ë¸ì— ìµœì í™”ë˜ì§€ ì•Šì•˜ê±°ë‚˜, GPTê°€ ì•ˆê²½ì´ í•„ìš”í• ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤ ğŸ‘“*.  \n   **ë‹¤ë¥¸ ë‹¤ì¤‘ëª¨ë‹¬ LLMì€ ì•„ì§ í…ŒìŠ¤íŠ¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**.\n\n2. **HTML-Based Scraping Tool**  \n   ì—ì´ì „íŠ¸ê°€ ìŠ¤í¬ë¦°ìƒ·ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ìˆ˜ ì—†ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” **ëŒ€ì²´ ë„êµ¬**.\n\n3. **Structured Output Parser**  \n   ì¶”ì¶œëœ ë°ì´í„°ë¥¼ **ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°ë¡œ í˜•ì‹í™”**í•˜ì—¬ **Google Sheetsì˜ ê²°ê³¼ í˜ì´ì§€ì— ì¶”ê°€í•  ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤**.\n\n### Output",
        "height": 679.5058139534889,
        "width": 1000.334302325581
      },
      "position": [
        1680,
        -26.831395348837077
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "9fe8ee54-755a-44f2-a2bf-a695e3754b3d",
      "name": "HTML-based Scraping Tool",
      "parameters": {
        "description": "=Call this tool ONLY when you need to retrieve the HTML content of a webpage.",
        "name": "HTMLScrapingTool",
        "responsePropertyName": "data",
        "workflowId": {
          "__rl": true,
          "cachedResultName": "vb-scraping",
          "mode": "list",
          "value": "PpFVCrTiYoa35q1m"
        }
      },
      "position": [
        2160,
        900
      ],
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2
    },
    {
      "id": "12c4fd7e-b662-488a-b779-792cff5464e4",
      "name": "Sticky Note5",
      "parameters": {
        "color": 6,
        "content": "ê¸°ë³¸ ëª¨ë¸ì€ gemini-1.5-proì…ë‹ˆë‹¤. ì´ ëª¨ë¸ì€ ì´ ìš©ë„ì— ëŒ€í•´ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ê°€ì¥ ë¹„ìš© íš¨ê³¼ì ì¸ ì˜µì…˜ì€ ì•„ë‹ˆë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”.",
        "height": 337.03488372093034,
        "width": 305.625
      },
      "position": [
        1680,
        720
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "86cf37d9-a4c1-42f4-a98e-ef2ca4410efd",
      "name": "Sticky Note6",
      "parameters": {
        "color": 6,
        "content": "### HTML ê¸°ë°˜ ìŠ¤í¬ë˜í•‘ ë„êµ¬\n\nì´ ë„êµ¬ëŠ” **AI ì—ì´ì „íŠ¸ê°€ HTMLì„ í•„ìš”ë¡œ í•  ë•Œ** (*ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ë³€í™˜ëœ*)ì„ ë°ì´í„° ì¶”ì¶œì„ ìœ„í•´ í˜¸ì¶œë©ë‹ˆë‹¤. **ìŠ¤í¬ë¦°ìƒ·ë§Œìœ¼ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤.",
        "height": 337.03488372093034,
        "width": 305.625
      },
      "position": [
        2020,
        720
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "a3dc3c83-ed18-4a58-bc36-440efe9462a2",
      "name": "Sticky Note7",
      "parameters": {
        "color": 6,
        "content": "### êµ¬ì¡°í™”ëœ ì¶œë ¥ íŒŒì„œ\n\nì´ ë…¸ë“œëŠ” **ì¶”ì¶œëœ ë°ì´í„°ë¥¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” JSON í˜•ì‹ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤**. \n\nì´ í…œí”Œë¦¿ì—ì„œ JSONì€ **ì „ììƒê±°ë˜ ì›¹í˜ì´ì§€ìš©ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤**. ê·€í•˜ì˜ íŠ¹ì • í•„ìš”ì— ë§ê²Œ ë§ì¶¤í™”í•˜ì„¸ìš”.",
        "height": 337.03488372093034,
        "width": 305.625
      },
      "position": [
        2360,
        720
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "939f0f2d-19c8-4447-9b25-accfcd5f6a16",
      "name": "Sticky Note8",
      "parameters": {
        "color": 7,
        "content": "## ë¶„í•  ì¶œë ¥\n\nì´ ë…¸ë“œëŠ” `Structured Output Parser`ì— ì˜í•´ ìƒì„±ëœ ë°°ì—´ì„ **ê°œë³„ í–‰**ìœ¼ë¡œ ë¶„í• í•˜ì—¬, í›„ì† **Google Sheets ë…¸ë“œ**ì— ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.",
        "height": 671.8750000000002,
        "width": 364.53488372093034
      },
      "position": [
        2740,
        -20
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "71404369-d2f6-4ca5-ae87-47a51fabfa4a",
      "name": "Sticky Note9",
      "parameters": {
        "color": 7,
        "content": "## Google Sheets - í–‰ ìƒì„±\n\nì´ ë…¸ë“œëŠ” **í–‰ì„ ìƒì„±**í•©ë‹ˆë‹¤ **Results** ì‹œíŠ¸ì— ì¶”ì¶œëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬. \n\n[ì˜ˆì‹œ Google Sheet](https://docs.google.com/spreadsheets/d/10Gc7ooUeTBbOOE6bgdNe5vSKRkkcAamonsFSjFevkOE/)ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, **Results ì‹œíŠ¸ì˜ ì—´ì´ `êµ¬ì¡°í™”ëœ ì¶œë ¥ íŒŒì„œ ë…¸ë“œ`ì˜ ì¶œë ¥ êµ¬ì¡°ì™€ ì¼ì¹˜**í•˜ë„ë¡ í•˜ì„¸ìš”.",
        "height": 671.8750000000002,
        "width": 364.53488372093034
      },
      "position": [
        3200,
        -20
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "credentials": {
        "googleApi": {
          "id": "",
          "name": "Google Sheets account"
        }
      },
      "id": "226520d1-2edb-4ade-9940-0bae461eb161",
      "name": "Google Sheets - Create Rows",
      "parameters": {
        "authentication": "serviceAccount",
        "columns": {
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "schema": [
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "category",
              "id": "category",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "product_url",
              "id": "product_url",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "product_price",
              "id": "product_price",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "product_brand",
              "id": "product_brand",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "promo",
              "id": "promo",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "promo_percent",
              "id": "promo_percent",
              "required": false,
              "type": "string"
            }
          ],
          "value": {
            "category": "={{ $('Set fields').item.json.url }}",
            "product_brand": "={{ $json.product_brand }}",
            "product_price": "={{ $json.product_price }}",
            "product_url": "={{ $json.product_title }}",
            "promo": "={{ $json.promo }}",
            "promo_percent": "={{ $json.promo_percentage }}"
          }
        },
        "documentId": {
          "__rl": true,
          "cachedResultName": "Google Sheets - Workflow Vision-Based Scraping",
          "cachedResultUrl": "",
          "mode": "list",
          "value": "1g81_39MJUlwnInX30ZuBtHUb-Y80WrYyF5lccaRtcu0"
        },
        "operation": "append",
        "options": {},
        "sheetName": {
          "__rl": true,
          "cachedResultName": "Results",
          "cachedResultUrl": "",
          "mode": "list",
          "value": 648398171
        }
      },
      "position": [
        3340,
        460
      ],
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5
    },
    {
      "id": "2c142537-d8fe-4fc1-9758-6a3538c43fc0",
      "name": "Vision-based Scraping Agent",
      "parameters": {
        "hasOutputParser": true,
        "options": {
          "passthroughBinaryImages": true,
          "systemMessage": "=Extract the following details from the input screenshot:\n\n- Product Titles\n- Product Prices\n- Brands\n- Promotional Information (e.g., if the product is on promo)\n\nStep 1: Image-Based Extraction\nAnalyze the provided screenshot to identify and extract all the required details: product titles, prices, brands, and promotional information.\nEnsure the extraction is thorough and validate the completeness of the information.\nCross-check all products for missing or unclear details.\nHighlight any limitations (e.g., text is unclear, partially cropped, or missing) in the extraction process.\n\nStep 2: HTML-Based Extraction (If Needed)\nIf you determine that any required information is:\n\nIncomplete or missing (e.g., not all titles, prices, or brands could be retrieved).\nAmbiguous or uncertain (e.g., unclear text or potential errors in OCR).\nUnavailable due to the limitations of image processing (e.g., product links).\n\nThen:\n\nCall the HTML-based tool with the input URL to access the page content.\nExtract the required details from the HTML to supplement or replace the image-based results.\nCombine data from both sources (if applicable) to ensure the final result is comprehensive and accurate.\n\nAdditional Notes\nAvoid redundant HTML tool usageâ€”confirm deficiencies in image-based extraction before proceeding.\nFor products on promotion, explicitly label this status in the output.\nReport extraction errors or potential ambiguities (e.g., text illegibility).\n\nIn your output, include all these fields as shown in the example below. If there is no promotion, set \"promo\" to false and \"promo_percent\" to 0.\n\njson\nCopy code\n[{\n \"product_title\": \"The title of the product\",\n \"product_price\": \"The price of the product\",\n \"product_brand\": \"The brand of the product\",\n \"promo\": true,\n \"promo_percent\": 25\n}]"
        },
        "promptType": "define",
        "text": "=Here is the screenshot you need to use to extract data about the page:\n\n{{ $json.url }}"
      },
      "position": [
        2040,
        460
      ],
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7
    },
    {
      "id": "f4acf278-edec-4bb4-a7cb-1e3c32a6ef4a",
      "name": "Sticky Note10",
      "parameters": {
        "color": 7,
        "content": "HTML-Scraping ë„êµ¬ íŠ¸ë¦¬ê±°\n\nì´ ë…¸ë“œëŠ” HTML ìŠ¤í¬ë˜í•‘ ë„êµ¬ì˜ ì§„ì… ì§€ì  ì—­í• ì„ í•©ë‹ˆë‹¤. \n\nì´ëŠ” AI ì—ì´ì „íŠ¸ê°€ ìŠ¤í¬ë¦°ìƒ·ì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ëŠ” ë° ì‹¤íŒ¨í•  ë•Œë§Œ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤. URLì´ ì¿¼ë¦¬ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.\n\nì¶œë ¥",
        "height": 357.10392441860495,
        "width": 364.53488372093034
      },
      "position": [
        1360,
        1160
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "79f7b4db-57f1-4004-88b3-51cfcfe9884e",
      "name": "HTML-Scraping Tool",
      "parameters": {},
      "position": [
        1480,
        1360
      ],
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1
    },
    {
      "id": "94aa7169-30b5-49dd-864a-be2eabbf85d3",
      "name": "Sticky Note11",
      "parameters": {
        "color": 7,
        "content": "## í•„ë“œ ì„¤ì • - AI ì—ì´ì „íŠ¸ ì¿¼ë¦¬ì—ì„œ\n\nì´ ë…¸ë“œëŠ” AI ì—ì´ì „íŠ¸ì˜ ì¿¼ë¦¬ì—ì„œ í•„ë“œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. \n\nì´ í…œí”Œë¦¿ì—ì„œ, êµ¬ì„±ëœ ìœ ì¼í•œ í•„ë“œëŠ” **url**ì…ë‹ˆë‹¤.",
        "height": 357.10392441860495,
        "width": 364.53488372093034
      },
      "position": [
        1760,
        1160
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "f2615921-d060-410b-aef4-cd484edb2897",
      "name": "Set fields - from AI agent query",
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c53c5ed2-9c7b-4365-9953-790264c722ab",
              "name": "url",
              "type": "string",
              "value": "={{ $json.query }}"
            }
          ]
        },
        "options": {}
      },
      "position": [
        1880,
        1360
      ],
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4
    },
    {
      "id": "807e263a-97ce-4369-9ad0-8f973fc8dcc9",
      "name": "Sticky Note12",
      "parameters": {
        "color": 7,
        "content": "## ScrapingBee - í˜ì´ì§€ HTML ê°€ì ¸ì˜¤ê¸°\n\nì´ ë…¸ë“œëŠ” ScrapingBee APIë¥¼ ì‚¬ìš©í•˜ì—¬ **ì›¹í˜ì´ì§€ì˜ HTMLì„ ê°€ì ¸ì˜µë‹ˆë‹¤**.",
        "height": 357.10392441860495,
        "width": 364.53488372093034
      },
      "position": [
        2180,
        1160
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "1cd32b9d-b07e-4dbb-9418-a99019c9deae",
      "name": "Sticky Note13",
      "parameters": {
        "color": 7,
        "content": "## HTMLì„ Markdownìœ¼ë¡œ\n\nì´ ë…¸ë“œëŠ” **ì´ì „ ë…¸ë“œì˜ HTMLì„ ë³€í™˜í•©ë‹ˆë‹¤** Markdown í˜•ì‹ìœ¼ë¡œ, **í† í°ì„ ì ˆì•½í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤**. \n\në³€í™˜ëœ **Markdownì€ ê·¸ í›„ ìë™ìœ¼ë¡œ AI ì—ì´ì „íŠ¸ì—ê²Œ ì´ ë…¸ë“œë¥¼ í†µí•´ ë³´ë‚´ì§‘ë‹ˆë‹¤**.",
        "height": 357.10392441860495,
        "width": 364.53488372093034
      },
      "position": [
        2600,
        1160
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "3b9096d1-ab5a-48a8-90ee-465483881d95",
      "name": "HTML to Markdown",
      "parameters": {
        "html": "={{ $json.data }}",
        "options": {}
      },
      "position": [
        2740,
        1360
      ],
      "type": "n8n-nodes-base.markdown",
      "typeVersion": 1
    },
    {
      "id": "966ad92a-ddda-4fb9-86ac-9c62f47dfc37",
      "name": "Sticky Note14",
      "parameters": {
        "content": "# âœ¨ ë¹„ì „ ê¸°ë°˜ AI ì—ì´ì „íŠ¸ ìŠ¤í¬ë˜í¼ - Google Sheets, ScrapingBee, Geminiì™€ í•¨ê»˜\n\n## ì¤‘ìš”í•œ ë©”ëª¨ :\n\n### ë²•ì  ê·œì • í™•ì¸:\nì´ ì›Œí¬í”Œë¡œëŠ” ìŠ¤í¬ë˜í•‘ì„ í¬í•¨í•˜ë¯€ë¡œ, ì‹œì‘í•˜ê¸° ì „ì— ê·€í•˜ì˜ êµ­ê°€ì—ì„œ ìŠ¤í¬ë˜í•‘ì— ëŒ€í•œ ë²•ì  ê·œì •ì„ í™•ì¸í•˜ì„¸ìš”. ì•ˆì „ì´ ìµœìš°ì„ ì…ë‹ˆë‹¤!\n\n## ì›Œí¬í”Œë¡œ ì„¤ëª…\nì´ ì›Œí¬í”Œë¡œëŠ” Google Sheets, ScrapingBee, Gemini-1.5-Pro ëª¨ë¸ê³¼ í†µí•©ëœ **ë¹„ì „ ê¸°ë°˜ AI ì—ì´ì „íŠ¸**ë¥¼ í™œìš©í•˜ì—¬ **ì›¹í˜ì´ì§€ì—ì„œ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ì¶”ì¶œ**í•©ë‹ˆë‹¤. AI ì—ì´ì „íŠ¸ëŠ” ì£¼ë¡œ **ìŠ¤í¬ë¦°ìƒ·ì„ ë°ì´í„° ì¶”ì¶œì— ì‚¬ìš©**í•˜ì§€ë§Œ í•„ìš”í•  ë•Œ HTML ìŠ¤í¬ë˜í•‘ìœ¼ë¡œ ì „í™˜í•˜ì—¬ ë†’ì€ ì •í™•ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤. \n\nì£¼ìš” ê¸°ëŠ¥:\n- **Google Sheets í†µí•©**: ìŠ¤í¬ë©í•  URLì„ ê´€ë¦¬í•˜ê³  êµ¬ì¡°í™”ëœ ê²°ê³¼ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. \n- **ScrapingBee**: ì „ì²´ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·ì„ ìº¡ì²˜í•˜ê³  í›„ì† ì¶”ì¶œì„ ìœ„í•œ HTML ë°ì´í„°ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. \n- **AI ê¸°ë°˜ ë°ì´í„° íŒŒì‹±**: Gemini-1.5-Proë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ì „ ê¸°ë°˜ ìŠ¤í¬ë˜í•‘ì„ ìˆ˜í–‰í•˜ê³ , ì¶”ì¶œëœ ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ í¬ë§·íŒ…í•˜ê¸° ìœ„í•´ Structured Output Parserë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. \n- **í† í° íš¨ìœ¨ì„±**: HTMLì„ Markdownìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬ ë¹„ìš©ì„ ìµœì í™”í•©ë‹ˆë‹¤.\n\nì´ í…œí”Œë¦¿ì€ ì „ììƒê±°ë˜ ìŠ¤í¬ë˜í•‘ì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆì§€ë§Œ ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "height": 646.0101744186061,
        "width": 829.9937466197946
      },
      "position": [
        -880.9927663601949,
        0
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "tags": [],
  "versionId": "cf87b8bb-6218-4549-831f-02ff4be611eb"
}