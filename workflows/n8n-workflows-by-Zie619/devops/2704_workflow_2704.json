{
  "meta": {
    "instanceId": "03e9d14e9196363fe7191ce21dc0bb17387a6e755dcc9acc4f5904752919dca8"
  },
  "nodes": [
    {
      "id": "93963e3d-bd30-4a0f-ba56-7896cd19d2ae",
      "name": "When clicking â€˜Test workflowâ€™",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -660,
        160
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c459e403-01b8-43dd-8065-1f8dcb77bcc0",
      "name": "Run Every 5 Minutes",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -660,
        -40
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "7cabd06a-7898-4789-9671-78f0b6fcac2a",
      "name": "Get 5 Minute Ago Timestamp",
      "type": "n8n-nodes-base.dateTime",
      "position": [
        -320,
        40
      ],
      "parameters": {
        "options": {},
        "duration": 5,
        "timeUnit": "minutes",
        "magnitude": "={{ $now.toUTC() }}",
        "operation": "subtractFromDate",
        "outputFieldName": "queryDate"
      },
      "typeVersion": 2
    },
    {
      "id": "5f21f279-3608-41bf-8986-47832aa0f1f2",
      "name": "Get Incidents from ServiceNow",
      "type": "n8n-nodes-base.serviceNow",
      "onError": "continueErrorOutput",
      "position": [
        -100,
        40
      ],
      "parameters": {
        "options": {
          "sysparm_query": "=sys_created_on>={{ $json.queryDate }}",
          "sysparm_display_value": "true"
        },
        "resource": "incident",
        "operation": "getAll",
        "authentication": "basicAuth"
      },
      "credentials": {
        "serviceNowBasicApi": {
          "id": "wjkWiUNQxo5PzTIb",
          "name": "ServiceNow Basic Auth account"
        }
      },
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "19fc7c77-e2b0-495d-bb7b-7bc7a7d87805",
      "name": "Check if New Incidents",
      "type": "n8n-nodes-base.if",
      "position": [
        160,
        -40
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "09750510-4604-4372-9cdc-d8055adae12a",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.sys_id }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "53e120d8-3022-46c0-8524-2c14f30d2c1a",
      "name": "Post Error Message if Error with ServiceNow",
      "type": "n8n-nodes-base.slack",
      "position": [
        480,
        760
      ],
      "webhookId": "0fba7a73-b273-4d52-863f-9a1b3ff75266",
      "parameters": {
        "text": "ğŸš¨ Issue connecting to ServiceNow. Please investigate error in n8n. ğŸš¨",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C086LRRQZQB",
          "cachedResultName": "incident-notifications"
        },
        "otherOptions": {
          "mrkdwn": true,
          "includeLinkToWorkflow": false
        }
      },
      "credentials": {
        "slackApi": {
          "id": "K04E2FxPZozHux9J",
          "name": "ServiceNow Bot"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "0784e71c-208d-4442-b355-3f1f076d9846",
      "name": "Sort Incidents in Ascending Order",
      "type": "n8n-nodes-base.sort",
      "position": [
        511,
        -271
      ],
      "parameters": {
        "options": {},
        "sortFieldsUi": {
          "sortField": [
            {
              "fieldName": "number"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "8435a455-0ea3-4443-8370-ec2e4c392e2f",
      "name": "Post Incident Details to Slack Channel",
      "type": "n8n-nodes-base.slack",
      "position": [
        731,
        -271
      ],
      "webhookId": "245d019e-7762-4e4a-861e-6181f1dcc7f2",
      "parameters": {
        "select": "channel",
        "blocksUi": "={\n\t\"blocks\": [\n\t\t{\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"ServiceNow Incident Notification\",\n\t\t\t\t\"emoji\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"fields\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Incident ID:*\\n{{ $('Get Incidents from ServiceNow').item.json.number }}\"\n\t\t\t\t},\n{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Description:*\\n{{ $('Get Incidents from ServiceNow').item.json.short_description }}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Severity:*\\n{{ $('Get Incidents from ServiceNow').item.json.severity }}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Caller:*\\n{{ $('Get Incidents from ServiceNow').item.json.caller_id.display_value }}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Priority:*\\n{{ $('Get Incidents from ServiceNow').item.json.priority }}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*State:*\\n{{ $('Get Incidents from ServiceNow').item.json.incident_state }}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Category:*\\n{{ $('Get Incidents from ServiceNow').item.json.category }}\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\t\"text\": \"*Date Opened:*\\n{{ $('Get Incidents from ServiceNow').item.json.opened_at }}\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"actions\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \"View Incident\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"url\": \"https://dev206761.service-now.com/nav_to.do?uri=incident.do?sys_id={{ $('Get Incidents from ServiceNow').item.json.sys_id }}\",\n\t\t\t\t\t\"action_id\": \"view_incident\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C086LRRQZQB",
          "cachedResultName": "incident-notifications"
        },
        "messageType": "block",
        "otherOptions": {
          "includeLinkToWorkflow": false
        }
      },
      "credentials": {
        "slackApi": {
          "id": "K04E2FxPZozHux9J",
          "name": "ServiceNow Bot"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "aa526b18-d259-4304-9faa-4375bee83c50",
      "name": "No Incidents, Do Nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        500,
        200
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2798711d-1788-4126-a576-cdef6c495bd7",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        -720
      ],
      "parameters": {
        "color": 7,
        "width": 543.0448479049971,
        "height": 635.2493225262418,
        "content": "![ìŠ¬ë™](https://uploads.n8n.io/templates/slack.png)  \n## ì‚¬ê³  ì„¸ë¶€ì‚¬í•­ ì •ë ¬ ë° Slackì— ê²Œì‹œ  \n\nì´ ì„¹ì…˜ì€ `Sort Incidents in Ascending Order` ë…¸ë“œë¡œ ì‹œì‘í•˜ë©°, ì´ ë…¸ë“œëŠ” ServiceNowì—ì„œ ê²€ìƒ‰ëœ ì‚¬ê³ ë¥¼ ì‚¬ê³  ë²ˆí˜¸ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì‚¬ê³ ê°€ ë…¼ë¦¬ì ì¸ ìˆœì„œë¡œ ì²˜ë¦¬ë˜ê³  í‘œì‹œë©ë‹ˆë‹¤. ì •ë ¬ëœ ì‚¬ê³ ëŠ” `Post Incident Details to Slack Channel` ë…¸ë“œë¡œ ì „ë‹¬ë˜ë©°, ì´ ë…¸ë“œëŠ” ì§€ì •ëœ Slack ì±„ë„ì— ìì„¸í•œ ë©”ì‹œì§€ë¥¼ í˜•ì‹í™”í•˜ì—¬ ë³´ëƒ…ë‹ˆë‹¤. ë©”ì‹œì§€ì—ëŠ” ì‚¬ê³  ID, ì„¤ëª…, ì‹¬ê°ë„, ì‹ ê³ ì, ìš°ì„ ìˆœìœ„, ìƒíƒœ, ì¹´í…Œê³ ë¦¬, ê·¸ë¦¬ê³  ì‚¬ê³ ê°€ ì—´ë¦° ë‚ ì§œì™€ ê°™ì€ ì£¼ìš” ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤. ë˜í•œ \"View Incident\" ë²„íŠ¼ì´ ì œê³µë˜ì–´ ServiceNow ë ˆì½”ë“œë¡œ ì§ì ‘ ë§í¬í•˜ì—¬ ë¹ ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ ì‚¬ê³  ì„¸ë¶€ì‚¬í•­ì„ ëª…í™•í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ íŒ€ì˜ íš¨ìœ¨ì ì¸ í˜‘ë ¥ê³¼ í•´ê²°ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "499f5f1e-617b-429d-9760-dc264870e269",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -400,
        -416.5936589599954
      ],
      "parameters": {
        "color": 7,
        "width": 792.7994376824845,
        "height": 651.0105345024904,
        "content": "![ServiceNow](https://uploads.n8n.io/templates/servicenow.png)  \n## ìƒˆë¡œìš´ ì¸ì‹œë˜íŠ¸ ê°€ì ¸ì˜¤ê¸° ë° í™•ì¸  \n\nì´ ì„¹ì…˜ì€ `Get 5 Minute Ago Timestamp` ë…¸ë“œë¡œ ì‹œì‘í•˜ë©°, ì´ ë…¸ë“œëŠ” í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì •í™•íˆ 5ë¶„ ì „ì˜ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ì´ íƒ€ì„ìŠ¤íƒ¬í”„ëŠ” ì§€ë‚œ 5ë¶„ ì´ë‚´ì— ìƒì„±ëœ ì¸ì‹œë˜íŠ¸ë¥¼ ì¡°íšŒí•˜ê¸° ìœ„í•œ ê¸°ì¤€ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. `Get Incidents from ServiceNow` ë…¸ë“œëŠ” ê³„ì‚°ëœ íƒ€ì„ìŠ¤íƒ¬í”„ ì´í›„ì— ìƒì„±ëœ ëª¨ë“  ì¸ì‹œë˜íŠ¸ë¥¼ ServiceNow ì‹œìŠ¤í…œì—ì„œ ê°€ì ¸ì˜¤ë©°, ê°€ì¥ ìµœê·¼ì˜ ì¸ì‹œë˜íŠ¸ë§Œ ê²€ìƒ‰ë˜ë„ë¡ í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, `Check if New Incidents` ë…¸ë“œëŠ” ì‘ë‹µì— `sys_id` í•„ë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ì—¬ ì¸ì‹œë˜íŠ¸ê°€ ë°˜í™˜ë˜ì—ˆëŠ”ì§€ í‰ê°€í•©ë‹ˆë‹¤. ì´ ë¡œì§ì€ ì›Œí¬í”Œë¡œì˜ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ê²°ì •í•˜ëŠ” ë° ë„ì›€ì´ ë˜ë©°, ìƒˆë¡œìš´ ì¸ì‹œë˜íŠ¸ê°€ ê°ì§€ë  ë•Œë§Œ ì¡°ì¹˜ê°€ ì·¨í•´ì§€ë„ë¡ í•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "c6f1dd80-ed5b-4e29-add1-a38a46338150",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        380
      ],
      "parameters": {
        "color": 7,
        "width": 540.6200460624971,
        "height": 560.0562505318285,
        "content": "![Slack](https://uploads.n8n.io/templates/slack.png)  \n## Slackìœ¼ë¡œì˜ ì˜¤ë¥˜ ì•Œë¦¼  \n\nì´ ì„¹ì…˜ì€ `Post Error Message if Error with ServiceNow` ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¥˜ ë³´ê³ ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì›Œí¬í”Œë¡œìš°ê°€ ServiceNowì— ì—°ê²°í•˜ëŠ” ë° ë¬¸ì œê°€ ë°œìƒí•˜ë©´, ì´ ë…¸ë“œëŠ” ì§€ì •ëœ Slack ì±„ë„ì— ë¯¸ë¦¬ ì •ì˜ëœ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ë³´í†µ ì´ëŠ” ìê²© ì¦ëª… ë§Œë£Œë¡œ ì¸í•´ ë°œìƒí•©ë‹ˆë‹¤. ì´ ë©”ì‹œì§€ëŠ” íŒ€ì—ê²Œ n8nì—ì„œ ë¬¸ì œë¥¼ ì¡°ì‚¬í•˜ë„ë¡ ê²½ê³ í•˜ë©°, ì‹ ì†í•œ ì£¼ì˜ì™€ ë¬¸ì œ í•´ê²°ì„ ë³´ì¥í•©ë‹ˆë‹¤. ì—°ê²° ì˜¤ë¥˜ì— ëŒ€í•´ íŒ€ì—ê²Œ ì‚¬ì „ì— ì•Œë¦¼ìœ¼ë¡œì¨, ì´ ì„¹ì…˜ì€ ì›Œí¬í”Œë¡œì˜ ì‹ ë¢°ì„±ì„ ìœ ì§€í•˜ê³  ì‚¬ê³  ëª¨ë‹ˆí„°ë§ ë° ë³´ê³ ì˜ ì¤‘ë‹¨ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "1ea0684a-9d7e-4f47-a7b0-9cb22bb6b934",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -800,
        -420
      ],
      "parameters": {
        "color": 7,
        "width": 382.98284329874696,
        "height": 746.70974187249,
        "content": "![n8n](https://uploads.n8n.io/templates/n8n.png)  \n## ë§¤ 5ë¶„ë§ˆë‹¤ ì‹¤í–‰  \n\n`Schedule Trigger` ë…¸ë“œëŠ” ì›Œí¬í”Œë¡œë¥¼ ë§¤ 5ë¶„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ë„ë¡ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ì„¤ì •ì€ ServiceNowì—ì„œ ìƒˆë¡œìš´ ì‚¬ê³ ë¥¼ ì¼ê´€ë˜ê²Œ ê·¸ë¦¬ê³  ì ì‹œì— ëª¨ë‹ˆí„°ë§í•˜ë„ë¡ í•˜ë©°, ìˆ˜ë™ ì…ë ¥ ì—†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì„ íƒëœ ê°„ê²©ì€ ë°˜ì‘ì„±ê³¼ ìì› íš¨ìœ¨ì„± ì‚¬ì´ì—ì„œ ê· í˜•ì„ ì´ë£¨ë©°, ì‹¤ì‹œê°„ ì‚¬ê³  ê´€ë¦¬ ì›Œí¬í”Œë¡œì— ì´ìƒì ì…ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "1a3e7b4c-60ce-449c-9f6a-2a1bc42b748d",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        -80
      ],
      "parameters": {
        "color": 7,
        "width": 540.5949630612389,
        "height": 442.9500589573929,
        "content": "![n8n](https://uploads.n8n.io/templates/n8n.png)  \n## ìƒˆë¡œìš´ ì‚¬ê±´ ì—†ìŒ, ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ  \n\nServiceNow ì‹œìŠ¤í…œ IDê°€ ServiceNow ë…¸ë“œ ì¶œë ¥ì—ì„œ ë°œê²¬ë˜ì§€ ì•Šìœ¼ë©´, ì´ ë…¸ë“œë¡œ ë¼ìš°íŒ…ë˜ì–´ í”„ë¡œì„¸ìŠ¤ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Run Every 5 Minutes": {
      "main": [
        [
          {
            "node": "Get 5 Minute Ago Timestamp",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check if New Incidents": {
      "main": [
        [
          {
            "node": "Sort Incidents in Ascending Order",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Incidents, Do Nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get 5 Minute Ago Timestamp": {
      "main": [
        [
          {
            "node": "Get Incidents from ServiceNow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Incidents from ServiceNow": {
      "main": [
        [
          {
            "node": "Check if New Incidents",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Post Error Message if Error with ServiceNow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sort Incidents in Ascending Order": {
      "main": [
        [
          {
            "node": "Post Incident Details to Slack Channel",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking â€˜Test workflowâ€™": {
      "main": [
        [
          {
            "node": "Get 5 Minute Ago Timestamp",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}