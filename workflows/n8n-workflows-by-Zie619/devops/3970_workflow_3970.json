{
  "meta": {
    "instanceId": "dfb8aefc80b77b230bd90d6a6e5210eb7a28e6e1d2a8b1d27d54942b54eb9e7a",
    "templateCredsSetupCompleted": true
  },
  "nodes": [
    {
      "id": "4f42007b-3813-410f-a608-5af89459b14f",
      "name": "Check Authorization Header",
      "type": "n8n-nodes-base.if",
      "position": [
        -20,
        20
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $('Webhook').item.json.headers.authorization }}",
              "value2": "=Bearer {{ $json.config.bearerToken }}"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "86d6157e-593d-4370-a480-1a9417300555",
      "name": "401 Unauthorized",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        340,
        280
      ],
      "parameters": {
        "options": {
          "responseCode": 401
        },
        "respondWith": "json",
        "responseBody": "{\n  \"code\": 401,\n  \"message\": \"Unauthorized: Missing or invalid authorization token.\",\n  \"hint\": \"Ensure the request includes a valid 'Authorization' header (e.g., 'Bearer YOUR_SECRET_TOKEN').\"\n}"
      },
      "typeVersion": 1
    },
    {
      "id": "0831093a-adef-41dc-8ac0-2e1998fc22ad",
      "name": "200 OK",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        1140,
        20
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 1
    },
    {
      "id": "b4f42651-c7f6-43a3-a695-7d5197b45642",
      "name": "Configuration",
      "type": "n8n-nodes-base.set",
      "position": [
        -300,
        20
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "4c35898d-5a70-41bc-9fb6-9d63bbbee222",
              "name": "config.bearerToken",
              "type": "string",
              "value": "123"
            },
            {
              "id": "822739a6-15da-48df-8f92-c4b1adce5fef",
              "name": "config.requiredFields.message",
              "type": "string",
              "value": "true"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "f1539109-8585-4cf2-9b9b-f3012544ac6c",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -580,
        20
      ],
      "webhookId": "2c5b9b70-1b08-44b1-a007-dc3d9f7e70db",
      "parameters": {
        "path": "secure-webhook",
        "options": {},
        "httpMethod": "POST",
        "responseMode": "responseNode"
      },
      "typeVersion": 1
    },
    {
      "id": "bcf1183c-9a3d-41eb-89f7-1666d3a6c5fc",
      "name": "Has required fields?",
      "type": "n8n-nodes-base.code",
      "position": [
        220,
        20
      ],
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "if(! $json.config.requiredFields) {\n  return { json: { valid: true } };\n}\n\nconst body = $('Webhook').first().json.body;\n\nlet requiredFields = $json.config.requiredFields;\n\nfor (let [key, value] of Object.entries(requiredFields)) {\n  console.log(`${key}: ${value}`);\n  if (!(key in body)) {\n    return { json: { valid: false } };\n  }\n}\n\nreturn { json: { valid: true } };"
      },
      "typeVersion": 2
    },
    {
      "id": "81b125f1-faa0-4998-8624-431746052a84",
      "name": "Check Valid Request",
      "type": "n8n-nodes-base.if",
      "position": [
        440,
        20
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "8c7fe174-f284-4e41-b851-8939f0c2d19f",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ $json.valid }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "906c671d-e2a6-4a9e-b7df-d7b9142ffeb4",
      "name": "400 Bad Request",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        780,
        280
      ],
      "parameters": {
        "options": {
          "responseCode": 401
        },
        "respondWith": "json",
        "responseBody": "{\n  \"code\": 400,\n  \"message\": \"Bad Request: Missing required fields\",\n  \"hint\": \"Make sure all required fields are included in the request body.\"\n}"
      },
      "typeVersion": 1
    },
    {
      "id": "ce657170-34e4-4b40-ba22-bb4638fa98c6",
      "name": "Create Response",
      "type": "n8n-nodes-base.set",
      "position": [
        920,
        20
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "c6258b81-6f40-4dd5-8a60-89e2b0322490",
              "name": "message",
              "type": "string",
              "value": "Success! Workflow completed."
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "0a6b9f12-9b60-458e-85de-014a66063e50",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -440,
        -280
      ],
      "parameters": {
        "color": 6,
        "width": 360,
        "height": 460,
        "content": "### ğŸ› ï¸ êµ¬ì„± ë…¸ë“œ ì„¤ì •\n\n*ì´ ë…¸ë“œëŠ” ë³´ì•ˆ ì›¹í›…ì˜ êµ¬ì„±ì„ ì •ì˜í•©ë‹ˆë‹¤.*\n\n- `config.bearerToken`: ì¸ì¦ì„ ìœ„í•œ ì˜ˆìƒ Bearer í† í°.\n\n- `config.requiredFields`: ìˆ˜ì‹  ìš”ì²­ ë³¸ë¬¸ì˜ ê° í•„ìˆ˜ í•„ë“œì— ëŒ€í•´ í•˜ë‚˜ì˜ í‚¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ì˜ˆ: `config.requiredFields.message`).\n\n*ğŸ‘‰ ê°’ì€ ì¤‘ìš”í•˜ì§€ ì•Šìœ¼ë©°, í‚¤ë§Œ í™•ì¸ë©ë‹ˆë‹¤.*"
      },
      "typeVersion": 1
    },
    {
      "id": "bba24ba5-3c8d-40f7-99e0-44115b1025e0",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -440,
        200
      ],
      "parameters": {
        "color": 3,
        "width": 1740,
        "height": 240,
        "content": "### ğŸš« ì˜¤ë¥˜ ì²˜ë¦¬ ë…¸ë“œ\n\n*ì´ ë…¸ë“œë“¤ì€ í‘œì¤€í™”ëœ JSON ì˜¤ë¥˜ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤:*\n\n- ğŸ”’ `401 Unauthorized`:\nìš”ì²­ì— ìœ íš¨í•œ Bearer í† í°ì´ ëˆ„ë½ë˜ì—ˆì„ ë•Œ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.\n\n- ğŸ“­ `400 Bad Request`:\ní•„ìˆ˜ í•„ë“œê°€ ìš”ì²­ ë³¸ë¬¸ì—ì„œ ëˆ„ë½ë˜ì—ˆì„ ë•Œ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "f451c9be-4cfb-4628-8aa7-66b66ad86bab",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        840,
        -280
      ],
      "parameters": {
        "color": 4,
        "width": 460,
        "height": 460,
        "content": "### âœ… ì„¤ì • ë° 200 ì‘ë‹µ ë…¸ë“œ\n\n- ğŸ§± `Create Response`  \në“¤ì–´ì˜¤ëŠ” ìš”ì²­ìœ¼ë¡œë¶€í„° JSON ì‘ë‹µì„ êµ¬ì¶•í•©ë‹ˆë‹¤.  \nì´ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ê°’(ì˜ˆ: message, sender ë“±)ì„ ì¶”ì¶œ, ë³€í™˜ ë˜ëŠ” ì „ë‹¬í•©ë‹ˆë‹¤.\n\n- ğŸ“¬ `200 OK`  \n`Create Response` ë…¸ë“œì˜ ê°’ì„ ì‚¬ìš©í•˜ì—¬ ì„±ê³µ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "8d4e8406-c3fe-4e8a-bfa8-18407fe5e67a",
      "name": "Add workflow nodes here",
      "type": "n8n-nodes-base.noOp",
      "position": [
        680,
        20
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f3f461a6-dc48-42cd-ac75-d045795006d0",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        -280
      ],
      "parameters": {
        "color": 7,
        "width": 440,
        "height": 460,
        "content": "### ğŸ” í•„ìˆ˜ í•„ë“œ ê²€ì¦ê¸°\n\n*ì´ ì½”ë“œ ë…¸ë“œëŠ” config.requiredFieldsì— ì •ì˜ëœ ëª¨ë“  í•„ë“œê°€ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ ë³¸ë¬¸ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.*\n\n- Webhook ë…¸ë“œì—ì„œ ë³¸ë¬¸ì„ ì½ìŠµë‹ˆë‹¤.\n\n- config.requiredFieldsì˜ ê° í‚¤ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.\n\n- ëª¨ë‘ ì¡´ì¬í•˜ë©´ `{ valid: true }`ë¥¼ ë°˜í™˜í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `{ valid: false }`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤."
      },
      "typeVersion": 1
    },
    {
      "id": "2766dae8-8def-462f-a53c-0f51606eea0a",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1220,
        -340
      ],
      "parameters": {
        "color": 5,
        "width": 760,
        "height": 780,
        "content": "## ğŸ” ë³´ì•ˆ ì›¹í›… â€“ ìš”ì•½\n\n*ì´ ì›Œí¬í”Œë¡œëŠ” **ì¸ì¦**ê³¼ **í˜ì´ë¡œë“œ ìœ íš¨ì„± ê²€ì‚¬**ë¥¼ í†µí•´ ê³µê°œ ì›¹í›…ì„ ë³´í˜¸í•©ë‹ˆë‹¤.*\n\n\n---\n\n#### ğŸ§© ì™œ ì‚¬ìš©í•˜ë‚˜ìš”?\n- âœ… ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í´ë¼ì´ì–¸íŠ¸ë§Œ ì›Œí¬í”Œë¡œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•˜ì„¸ìš” (ë² ì–´ëŸ¬ í† í°ì„ í†µí•´).\n- âœ… ìš”ì²­ ë³¸ë¬¸ì— ëª¨ë“  ì˜ˆìƒ í•„ë“œê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.\n- âœ… ìœ ìš©í•˜ê³  ì¼ê´€ëœ JSON ì‘ë‹µì„ ë°˜í™˜í•˜ì„¸ìš” (`200`, `400`, `401`).\n\n---\n\n#### âš™ï¸ ì‘ë™ ì›ë¦¬:\n1. **`ì›¹í›…`** â€“ ì™¸ë¶€ `POST` ìš”ì²­ì˜ ì§„ì…ì .\n2. **`êµ¬ì„±`** â€“ `config.bearerToken`ê³¼ `config.requiredFields`ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n3. **`ì¸ê°€ í—¤ë” í™•ì¸`** â€“ ìˆ˜ì‹ ëœ ë² ì–´ëŸ¬ í† í°ì„ êµ¬ì„±ê³¼ ë¹„êµí•©ë‹ˆë‹¤.\n4. **`401 Unauthorized`** â€“ í† í°ì´ ì—†ê±°ë‚˜ ì˜ëª»ëœ ê²½ìš° ë°˜í™˜ë©ë‹ˆë‹¤.\n5. **`í•„ìˆ˜ í•„ë“œ ìˆë‚˜ìš”?`** â€“ JS ì½”ë“œë¡œ ìš”ì²­ ë³¸ë¬¸ì— í•„ìˆ˜ í•„ë“œê°€ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n6. **`400 Bad Request`** â€“ í•„ìˆ˜ í•„ë“œê°€ í•˜ë‚˜ë¼ë„ ëˆ„ë½ëœ ê²½ìš° ë°˜í™˜ë©ë‹ˆë‹¤.\n7. **`ì‘ë‹µ ìƒì„± & 200 OK`** â€“ ë§ì¶¤ ì„±ê³µ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n---\n\n#### ğŸ›  ì„¤ì • ì§€ì¹¨:\n- ì›í•˜ëŠ” ë² ì–´ëŸ¬ í† í°ì„ `config.bearerToken`ì— ì„¤ì •í•˜ì„¸ìš”.\n- ê° í•„ìˆ˜ í•„ë“œì— ëŒ€í•´ `config.requiredFields`ì— í‚¤ë¥¼ ì„¤ì •í•˜ì„¸ìš”  \n  *(ì˜ˆ: `config.requiredFields.message)*.\n*ğŸ‘‰ ê°’ì€ ì¤‘ìš”í•˜ì§€ ì•Šìœ¼ë©°, í‚¤ë§Œ í™•ì¸ë©ë‹ˆë‹¤.*\n- **`Add workflow nodes here`** ë…¸ë“œë¥¼ ë³¸ì¸ ì›Œí¬í”Œë¡œ ë¡œì§ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”.\n- `Create Response` ë…¸ë“œë¥¼ í¸ì§‘í•˜ì—¬ ì‘ë‹µì„ ì‘ì„±í•˜ì„¸ìš”.\n\n---\n\nğŸ“Œ *API, í¼, ë˜ëŠ” ì œ3ì ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ë³´ì•ˆì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›¹í›… ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬ì¶•í•˜ëŠ” ë° ì í•©í•©ë‹ˆë‹¤.*"
      },
      "typeVersion": 1
    },
    {
      "id": "70c8f060-587a-4524-ab32-7362cc0c4cf9",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1220,
        -600
      ],
      "parameters": {
        "color": 6,
        "width": 760,
        "height": 240,
        "content": "## ë‚´ ì‘ì—…ì„ ì§€ì›í•˜ì„¸ìš”! â¤ï¸\n\n**ğŸ‘‹ ì•ˆë…•! ë‚˜ëŠ” Audun / xqusì…ë‹ˆë‹¤.**  \nğŸ”— ë‚´ ì‘ì—…: [xqus.com](https://xqus.com)  \nğŸ’¸ n8n ìƒì : [xqus.gumroad.com](https://xqus.gumroad.com)  \n\n**ì´ ì›Œí¬í”Œë¡œìš°ê°€ ë„ì›€ì´ ëœë‹¤ë©´**, [Gumroad](https://xqus.gumroad.com/l/hasgi)ì—ì„œ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ êµ¬ë§¤ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”.  \n\nê·€í•˜ì˜ ì§€ì›ì€ ë‚´ê°€ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìœ„í•´ ë” ìœ ìš©í•œ n8n ì›Œí¬í”Œë¡œìš°ì™€ ìì›ì„ ë§Œë“œëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.  \n-ëŒ€ë‹¨íˆ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™Œ"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "200 OK": {
      "main": [
        []
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Configuration",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Configuration": {
      "main": [
        [
          {
            "node": "Check Authorization Header",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Response": {
      "main": [
        [
          {
            "node": "200 OK",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Valid Request": {
      "main": [
        [
          {
            "node": "Add workflow nodes here",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "400 Bad Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Has required fields?": {
      "main": [
        [
          {
            "node": "Check Valid Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add workflow nodes here": {
      "main": [
        [
          {
            "node": "Create Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Authorization Header": {
      "main": [
        [
          {
            "node": "Has required fields?",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "401 Unauthorized",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}