{
  "id": "xQHiKDTkezDY5lFu",
  "meta": {
    "instanceId": "03e9d14e9196363fe7191ce21dc0bb17387a6e755dcc9acc4f5904752919dca8"
  },
  "name": "Suspicious_login_detection",
  "tags": [
    {
      "id": "GCHVocImoXoEVnzP",
      "name": "üõ†Ô∏è In progress",
      "createdAt": "2023-10-31T02:17:21.618Z",
      "updatedAt": "2023-10-31T02:17:21.618Z"
    },
    {
      "id": "QPJKatvLSxxtrE8U",
      "name": "Secops",
      "createdAt": "2023-10-31T02:15:11.396Z",
      "updatedAt": "2023-10-31T02:15:11.396Z"
    },
    {
      "id": "hF4M6DtfFqOn2HK2",
      "name": "createdBy:Milorad",
      "createdAt": "2023-10-31T02:20:20.366Z",
      "updatedAt": "2023-10-31T02:20:20.366Z"
    }
  ],
  "nodes": [
    {
      "id": "a95e464a-7451-4737-9db8-993a6568595b",
      "name": "Extract relevant data",
      "type": "n8n-nodes-base.set",
      "position": [
        -260,
        700
      ],
      "parameters": {
        "values": {
          "string": [
            {
              "name": "ip",
              "value": "={{ $json.body.context.ip }}"
            },
            {
              "name": "userAgent",
              "value": "={{ $json.body.context.userAgent }}"
            },
            {
              "name": "timestamp",
              "value": "={{ $json.body.originalTimestamp }}"
            },
            {
              "name": "url",
              "value": "={{ $json.body.context.page.url }}"
            },
            {
              "name": "userId",
              "value": "={{ $json.body.userId }}"
            }
          ]
        },
        "options": {},
        "keepOnlySet": true
      },
      "typeVersion": 2
    },
    {
      "id": "d7dea680-14f3-4ffd-bfaf-f928b69d801d",
      "name": "New /login event",
      "type": "n8n-nodes-base.webhook",
      "disabled": true,
      "position": [
        -740,
        700
      ],
      "webhookId": "705ca4c4-0a38-4ef8-9de9-abc8b3686dc6",
      "parameters": {
        "path": "705ca4c4-0a38-4ef8-9de9-abc8b3686dc6",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 1
    },
    {
      "id": "bd75aad9-2d24-4083-823d-bc789fb7ef07",
      "name": "Unknown threat?",
      "type": "n8n-nodes-base.if",
      "position": [
        720,
        1240
      ],
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.noise }}"
            },
            {
              "value1": "={{ $json.riot }}"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d0845980-3b8c-4659-95a1-82e925867f28",
      "name": "Get last 10 logins from the same user",
      "type": "n8n-nodes-base.postgres",
      "disabled": true,
      "position": [
        960,
        1220
      ],
      "parameters": {
        "query": "SELECT * FROM staging_n8n_cloud_frontend.user_signed_in WHERE user_id='{{ $('Extract relevant data').item.json.userId }}' ORDER BY received_at DESC LIMIT 10;",
        "options": {},
        "operation": "executeQuery"
      },
      "credentials": {
        "postgres": {
          "id": "aP9LLonHicGm2A7j",
          "name": "n8n product data"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "90e859b2-aa64-48e7-a8fe-696e3b7216f1",
      "name": "Query IP API1",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1240,
        1340
      ],
      "parameters": {
        "url": "=http://ip-api.com/json/{{ $json.context_ip }}",
        "options": {}
      },
      "typeVersion": 4.1
    },
    {
      "id": "3a944973-132a-4272-97e3-42528eb4c0fc",
      "name": "New location?",
      "type": "n8n-nodes-base.if",
      "position": [
        1440,
        1340
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.city }}",
              "value2": "={{ $('Merge').item.json.city }}",
              "operation": "notEqual"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "fb4d5d07-58ae-4b17-a389-29e7fbe2caa2",
      "name": "Parse User Agent",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1260,
        1640
      ],
      "parameters": {
        "url": "https://api.userparser.com/1.1/detect",
        "options": {},
        "sendQuery": true,
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "queryParameters": {
          "parameters": [
            {
              "name": "ua",
              "value": "={{ $json.context_user_agent }}"
            }
          ]
        }
      },
      "credentials": {
        "httpQueryAuth": {
          "id": "33f1NrH1bLdXCGyw",
          "name": "n8n Userparser API Key"
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "56442924-914c-461d-b4d7-f08192e1b53b",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        295,
        1502
      ],
      "parameters": {
        "mode": "combine",
        "options": {},
        "combinationMode": "multiplex"
      },
      "typeVersion": 2.1
    },
    {
      "id": "2b36f782-029d-41de-8823-6c083f3c305a",
      "name": "New Device/Browser?",
      "type": "n8n-nodes-base.if",
      "position": [
        1460,
        1640
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.browser.name }}",
              "value2": "={{ $('Complete login info').first().json.browser.name }}",
              "operation": "notEqual"
            },
            {
              "value1": "={{ $json.operatingSystem.name }}",
              "value2": "={{ $('Complete login info').first().json.operatingSystem.name }}",
              "operation": "notEqual"
            },
            {
              "value1": "={{ $json.device.type }}",
              "value2": "={{ $('Complete login info').first().json.device.type }}",
              "operation": "notEqual"
            }
          ]
        },
        "combineOperation": "any"
      },
      "typeVersion": 1
    },
    {
      "id": "612c3704-6ea1-4978-ae84-17326f459c25",
      "name": "Complete login info",
      "type": "n8n-nodes-base.merge",
      "position": [
        540,
        1240
      ],
      "parameters": {
        "mode": "combine",
        "options": {},
        "combinationMode": "multiplex"
      },
      "typeVersion": 2.1
    },
    {
      "id": "9c097c31-a86d-45fe-92c7-14a58eae87b4",
      "name": "Query user by ID",
      "type": "n8n-nodes-base.postgres",
      "disabled": true,
      "position": [
        2020,
        1340
      ],
      "parameters": {
        "query": "SELECT * FROM staging_n8n_cloud_frontend.users WHERE id='{{ $('Extract relevant data').item.json.userId }}'",
        "options": {},
        "operation": "executeQuery"
      },
      "credentials": {
        "postgres": {
          "id": "aP9LLonHicGm2A7j",
          "name": "n8n product data"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "cd6fb55b-b8f6-4778-a62a-34be42e2660d",
      "name": "New Location",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1660,
        1280
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "7070a43a-d588-4bbb-b8d0-50e8eff171df",
      "name": "New Device/Browser",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1674,
        1625
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "dca6d5ed-d92f-49a6-9910-c9194e696e70",
      "name": "User has email?",
      "type": "n8n-nodes-base.if",
      "position": [
        2360,
        1360
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.email }}",
              "operation": "isNotEmpty"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "14cd3d37-5c00-4750-8ad2-f78fce66019c",
      "name": "HTML",
      "type": "n8n-nodes-base.html",
      "position": [
        2580,
        1313
      ],
      "parameters": {
        "html": "<p>\n  Hello {{ $json.first_name || $json.username }},\n</p>\n<p>\n  We've detected a recent login to your n8n account from a new device or location. Here are the details:\n</p>\n<p>\n  <ul>\n    <li><b>Username:</b> {{ $json.username }}</li>\n    <li><b>Date & Time:</b> {{ $('Extract relevant data').item.json.timestamp }}</li>\n    <li><b>Location:</b> {{ $('Complete login info').item.json.city }}, {{ $('Complete login info').item.json.country }}</li>\n    <li><b>Device:</b> {{ $('Complete login info').item.json.operatingSystem.name }} ({{ $('Complete login info').item.json.device.type }})</li>\n  </ul>\n</p>\n<p>\n  If this was you, you can disregard this email. We just wanted to make sure it was you who logged in from a new device or location.\n</p>\n  If this wasn't you, we recommend resetting your password right away.\n</p>\n\n<style>\n  p {\n    font-family: sans-serif;\n  }\n</style>"
      },
      "typeVersion": 1
    },
    {
      "id": "e99f7779-9b84-4f8c-80a0-b34c3c9df5b4",
      "name": "Inform user",
      "type": "n8n-nodes-base.gmail",
      "disabled": true,
      "position": [
        2740,
        1313
      ],
      "parameters": {
        "sendTo": "={{ $('User has email?').item.json.email }}",
        "message": "={{ $json.html }}",
        "options": {},
        "subject": "Important: Usual Login Attempt Detected"
      },
      "credentials": {
        "gmailOAuth2": {
          "id": "162",
          "name": "Gmail - milorad@n8n.io"
        }
      },
      "typeVersion": 2
    },
    {
      "id": "b280b287-7b20-4dcb-9c0a-a3e5c3a60771",
      "name": "noise?",
      "type": "n8n-nodes-base.if",
      "position": [
        340,
        220
      ],
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.noise }}",
              "value2": true
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "5be949da-f04a-44f9-9cf0-5e221f9d27e8",
      "name": "Slack",
      "type": "n8n-nodes-base.slack",
      "disabled": true,
      "position": [
        1560,
        500
      ],
      "parameters": {
        "text": "=Suspicious login attempt detected:\n  - Priority: {{ $json.priority }}\n  - User: {{ $('Extract relevant data').item.json[\"userId\"] }}\n  - IP: {{ $('Extract relevant data').item.json[\"ip\"] }}\n  - Timestamp: {{ $('Extract relevant data').item.json[\"timestamp\"] }}\n  - User Agent: {{ $('Extract relevant data').item.json[\"userAgent\"] }}\nGreyNoise report: https://viz.greynoise.io/ip/{{ $('Extract relevant data').item.json[\"ip\"] }}",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "name",
          "value": "#slack-message-test"
        },
        "otherOptions": {}
      },
      "credentials": {
        "slackApi": {
          "id": "114",
          "name": "n8n Slack"
        }
      },
      "typeVersion": 2
    },
    {
      "id": "241e492c-fb9a-4b93-bd76-4167cb67f212",
      "name": "Check trust level",
      "type": "n8n-nodes-base.switch",
      "position": [
        780,
        360
      ],
      "parameters": {
        "rules": {
          "rules": [
            {
              "output": 3,
              "value2": 1,
              "operation": "equal"
            },
            {
              "output": 2,
              "value2": 2,
              "operation": "equal"
            }
          ]
        },
        "value1": "={{ $json.trust_level }}",
        "fallbackOutput": 1
      },
      "typeVersion": 1
    },
    {
      "id": "f99741d0-161e-49c6-8e41-d61b080e977d",
      "name": "Check classification",
      "type": "n8n-nodes-base.switch",
      "position": [
        780,
        200
      ],
      "parameters": {
        "rules": {
          "rules": [
            {
              "value2": "malicious"
            },
            {
              "output": 2,
              "value2": "benign"
            },
            {
              "output": 1,
              "value2": "unknown"
            }
          ]
        },
        "value1": "={{ $json.classification }}",
        "dataType": "string"
      },
      "typeVersion": 1
    },
    {
      "id": "594857f6-713f-496e-8257-b74acf5d1282",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0.10300782209924364,
        -502.1236093865191
      ],
      "parameters": {
        "width": 1443.8164871528645,
        "height": 1185.151137495839,
        "content": "![Í∑∏Î†àÏù¥ÎÖ∏Ïù¥Ï¶à](https://i.imgur.com/4vSwTkY.png)  \n## üö¶ GreyNoise Îç∞Ïù¥ÌÑ∞Î°ú Í≥†Í∏â ÏúÑÌòë Ïö∞ÏÑ†ÏàúÏúÑÌôî\n\nÏù¥ ÏõåÌÅ¨ÌîåÎ°úÏùò Ïù¥ ÏÑπÏÖòÏóêÏÑú GreyNoise Îç∞Ïù¥ÌÑ∞Ïùò ÌÜµÌï©, ÌäπÌûà `GreyNoise` ÎÖ∏Îìú,Îäî ÏúÑÌòë Ïö∞ÏÑ†ÏàúÏúÑÌôî ÌîÑÎ°úÏÑ∏Ïä§Î•º Ï†ïÏ†úÌïòÎäî Îç∞ Ï§ëÏöîÌïú Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§. Ïù¥ ÎÖ∏ÎìúÍ∞Ä GreyNoiseÏôÄ ÏÉÅÌò∏ÏûëÏö©ÌïòÏó¨ Í∞Å Í≤ΩÎ≥¥Í∞Ä Í¥ÄÎ†®Îêú IP Ï£ºÏÜåÏùò ÏÑ±Í≤©Ïóê Îî∞Îùº Ï†ÅÏ†àÌïú Ï£ºÏùòÎ•º Î∞õÎèÑÎ°ù Ìï©ÎãàÎã§.\n\n-   **Ïù∏Î∞îÏö¥Îìú ÏúÑÌòëÏóê ÎåÄÌïú GreyNoise Î∂ÑÏÑù:** `GreyNoise` ÎÖ∏ÎìúÍ∞Ä IP Ï£ºÏÜåÎ•º ÏãùÎ≥ÑÌïòÎ©¥ GreyNoiseÎ•º ÏøºÎ¶¨ÌïòÎ©∞, NOISE Î∞è RIOT Îç∞Ïù¥ÌÑ∞ÏÖã([ÏûêÏÑ∏Ìïú ÎÇ¥Ïö©](https://docs.greynoise.io/docs/riot-data))ÏùÑ Í≥†Î†§Ìï©ÎãàÎã§. Ïù¥ ÎÖ∏ÎìúÏùò ÏùëÎãµÏù¥ ÌõÑÏÜç Îã®Í≥ÑÎ•º ÏïàÎÇ¥Ìï©ÎãàÎã§:  \n    -   **ÏïåÎ†§ÏßÄÏßÄ ÏïäÏùÄ IPÏóê ÎåÄÌïú ÎÜíÏùÄ Ïö∞ÏÑ†ÏàúÏúÑ:** `Check trust level` Î∞è `Check classification` ÎÖ∏ÎìúÍ∞Ä Ïó¨Í∏∞Ïóê ÏûëÎèôÌï©ÎãàÎã§. GreyNoiseÏóê IPÏóê ÎåÄÌïú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏúºÎ©¥ (noise:false, riot:false), `üî¥ Priority: HIGH` ÎÖ∏ÎìúÏóêÏÑú Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä ÎÜíÍ≤å ÏÑ§Ï†ïÎê©ÎãàÎã§. Ïù¥Îäî Ïû†Ïû¨Ï†ÅÏù∏ ÌëúÏ†Å Í≥µÍ≤©ÏùÑ ÎÇòÌÉÄÎÇ¥Î©∞, Ï¶âÏãú Î∂ÑÏÑùÍ∞Ä Í≤ÄÌÜ†Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.  \n    -   **ÏùºÎ∞ò ÎπÑÏ¶àÎãàÏä§ ÏÑúÎπÑÏä§Ïóê ÎåÄÌïú ÎÇÆÏùåÏóêÏÑú Ï§ëÍ∞Ñ Ïö∞ÏÑ†ÏàúÏúÑ:** ÏùºÎ∞ò ÎπÑÏ¶àÎãàÏä§ ÏÑúÎπÑÏä§Ïùò ÏùºÎ∂ÄÎ°ú ÏãùÎ≥ÑÎêú IP(riot:true)Îäî Ïã†Î¢∞ ÏàòÏ§ÄÍ≥º Ïö¥ÏòÅ ÏÉÅÌÉúÏóê Îî∞Îùº `üü° Priority: MEDIUM` Î∞è `üü¢ Priority: LOW` ÎÖ∏ÎìúÏóêÏÑú ÎÇÆÏùåÏóêÏÑú Ï§ëÍ∞Ñ Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä Î∂ÄÏó¨Îê©ÎãàÎã§. Ïù¥Îäî ÏïÖÏùòÏ†Å ÌôúÎèôÏùò ÏúÑÌóòÏù¥ ÎÇÆÏùåÏùÑ Î∞òÏòÅÌï©ÎãàÎã§.  \n-   **Î∂ÑÎ•ò Í∏∞Î∞ò Ïö∞ÏÑ†ÏàúÏúÑÌôî:** ÏõåÌÅ¨ÌîåÎ°úÎäî `Check classification` ÎÖ∏ÎìúÏóêÏÑú GreyNoiseÏùò IP Î∂ÑÎ•ò(ÏïÖÏùòÏ†Å, Î¨¥Ìï¥, ÏïåÎ†§ÏßÄÏßÄ ÏïäÏùå)Î•º Í≥†Î†§Ìï©ÎãàÎã§:  \n    -   **ÏïÖÏùòÏ†Å IP:** Í∏∞ÌöåÏ†ÅÏù¥ÏßÄÎßå Ïû†Ïû¨Ï†ÅÏúºÎ°ú Ìï¥Î°úÏö¥ ÌôúÎèôÏùÑ Ï†úÏïàÌïòÎ©∞, `üî¥ Priority: HIGH` ÎÖ∏ÎìúÏóêÏÑú Ï§ëÍ∞ÑÏóêÏÑú ÎÜíÏùÄ Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä Î∂ÄÏó¨Îê©ÎãàÎã§.  \n    -   **Î¨¥Ìï¥ IP:** ÏùºÎ∞òÏ†ÅÏúºÎ°ú ÏïåÎ†§ÏßÑ ÌñâÏúÑÏûêÏóê ÏùòÌïú Î¨¥Ìï¥Ìïú Ïä§Ï∫îÏù¥ÎØÄÎ°ú, `üü¢ Priority: LOW` ÎÖ∏ÎìúÏóêÏÑú ÎÇÆÏùÄ Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä Î∂ÄÏó¨Îê©ÎãàÎã§.  \n    -   **ÏïåÎ†§ÏßÄÏßÄ ÏïäÏùÄ IP:** ÏïÑÎßàÎèÑ Î¨¥Ìï¥ÌïòÏßÄÎßå ÌôïÏù∏ÎêòÏßÄ ÏïäÏùÄ ÌôúÎèôÏùÑ ÎÇòÌÉÄÎÇ¥Ïñ¥, `üü° Priority: MEDIUM` ÎÖ∏ÎìúÏóêÏÑú ÎÇÆÏùåÏóêÏÑú Ï§ëÍ∞Ñ Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä Î∂ÄÏó¨Îê©ÎãàÎã§.  \n-   **ÏïÑÏõÉÎ∞îÏö¥Îìú ÏúÑÌòëÏóê ÎåÄÌïú Ï∂îÍ∞Ä Îß•ÎùΩ:** ÏïÑÏõÉÎ∞îÏö¥Îìú Ïó∞Í≤∞Ïùò Í≤ΩÏö∞, ÏõåÌÅ¨ÌîåÎ°úÎäî `GreyNoise` ÎÖ∏ÎìúÍ∞Ä Ìï¥ÏÑùÌïú Î∞îÏóê Îî∞Îùº IPÍ∞Ä ÏïåÎ†§ÏßÑ ÏÑúÎπÑÏä§ Ï†úÍ≥µÏûê ÎòêÎäî ÏïåÎ†§ÏßÑ Ïû•Ïπò Ïä§Ï∫êÎãùÏù∏ÏßÄÏóê Í∏∞Î∞òÌïòÏó¨ Í≤ΩÎ≥¥Î•º Ïö∞ÏÑ†ÏàúÏúÑÌôîÌï©ÎãàÎã§. Ïä§Ï∫êÎãù Ïû•ÏπòÏóê ÎåÄÌïú ÏïÑÏõÉÎ∞îÏö¥Îìú Ïó∞Í≤∞ÏùÄ `üî¥ Priority: HIGH` ÎÖ∏ÎìúÏóêÏÑú ÎÜíÏùÄ Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä Î∂ÄÏó¨ÎêòÏñ¥, Ïû†Ïû¨Ï†ÅÏúºÎ°ú ÏõêÏπò ÏïäÎäî ÌñâÎèôÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§.\n\nÏù¥ Ï†ëÍ∑º Î∞©ÏãùÏùÄ GreyNoiseÏùò Í≥†Í∏â Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑùÏùÑ ÌôúÏö©ÌïòÏó¨ n8nÏùò Ï†ïÍµêÌïú ÏÇ¨Ïù¥Î≤Ñ Î≥¥Ïïà ÏÜîÎ£®ÏÖòÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§. Ïù¥ ÏßÄÎä•Ìòï Ïö∞ÏÑ†ÏàúÏúÑÌôî Î©îÏª§ÎãàÏ¶òÏùÑ ÌÜµÌï©ÌïòÏó¨ ÏõåÌÅ¨ÌîåÎ°úÎäî Î≥¥Ïïà ÌåÄÏù¥ Í∞ÄÏû• ÏãúÍ∏âÌïú ÏúÑÌòëÏóê Î®ºÏ†Ä ÏßëÏ§ëÌïòÎèÑÎ°ù ÌïòÏó¨ Ï†ÑÏ≤¥ Î≥¥Ïïà ÏûêÏÑ∏Î•º Í∞ïÌôîÌï©ÎãàÎã§.\n\n### Ïù∏Ï¶ù - Î¨¥Î£å Ìã∞Ïñ¥ ÏóÜÏùå\n\nGreyNoiseÏùò API ÌÇ§Î•º ÏÑ§Ï†ïÌïòÎ†§Î©¥ `GreyNoise` ÎÖ∏ÎìúÎ•º Ïó¥Í≥† ÏÉà Ïù∏Ï¶ù ÏûêÍ≤©Ï¶ùÎ™ÖÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§. `Generic Credential Type`ÏùÑ ÏÑ†ÌÉùÌïú Îã§Ïùå `Header Auth`Î•º ÏÑ†ÌÉùÌï©ÎãàÎã§. ÎßàÏßÄÎßâÏúºÎ°ú `Credential for Header Auth`ÏóêÏÑú Ïù¥Î¶ÑÏùÑ `key`Î°ú, Í∞íÏùÑ ÏûêÏã†Ïùò `api key`Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "ee90c638-882d-4a2e-8164-adaf4ec386be",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1450.4432083435722,
        -139
      ],
      "parameters": {
        "width": 560.0194854548777,
        "height": 818.6128004838087,
        "content": "## üì¢ Slack ÏïåÎ¶º Ï†ÑÌåå\n\n`Slack` ÎÖ∏ÎìúÎäî Í≤ΩÍ≥† ÌÜµÏã†ÏóêÏÑú Ï§ëÏöîÌïú Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§. ÏúÑÌòëÏù¥ ÏãùÎ≥ÑÎêòÍ≥† Ïö∞ÏÑ†ÏàúÏúÑÍ∞Ä Îß§Í≤®ÏßÄÎ©¥, Í¥ÄÎ†® Ï†ïÎ≥¥Î•º Ïã†ÏÜçÌïòÍ≤å SlackÏùÑ ÌÜµÌï¥ Î≥¥Ïïà ÌåÄÏóê Ï†ÑÌååÌï©ÎãàÎã§.\n\n- **ÏãúÏùòÏ†ÅÏ†àÌïú Í≤ΩÍ≥† ÏïåÎ¶º:** `Slack` ÎÖ∏ÎìúÎäî ÏßÄÏ†ïÎêú Slack Ï±ÑÎÑêÎ°ú ÏûêÏÑ∏Ìïú Í≤ΩÍ≥†Î•º Î≥¥ÎÇ¥ÎèÑÎ°ù Íµ¨ÏÑ±Îê©ÎãàÎã§. Ïù¥ Í≤ΩÍ≥†ÏóêÎäî Ïö∞ÏÑ†ÏàúÏúÑ ÏàòÏ§Ä, ÏÇ¨Ïö©Ïûê ID, IP Ï£ºÏÜå, ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ, Í∑∏Î¶¨Í≥† ÏùòÏã¨Ïä§Îü¨Ïö¥ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏùò ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ÏôÄ Í∞ôÏùÄ Ï§ëÏöîÌïú Ï†ïÎ≥¥Í∞Ä Ìè¨Ìï®Îê©ÎãàÎã§. Ïù¥Î•º ÌÜµÌï¥ ÌåÄÏù¥ Ïû†Ïû¨Ï†Å ÏúÑÌòëÏóê ÎåÄÌï¥ Ï¶âÏãú ÌÜµÎ≥¥Î•º Î∞õÏùÑ Ïàò ÏûàÏñ¥, ÏúÑÌóòÏùÑ Ïã†ÏÜçÌïòÍ≤å ÏôÑÌôîÌï† Ïàò ÏûàÏäµÎãàÎã§.\n- **Ïù¥Ï†Ñ ÎÖ∏ÎìúÏùò Îç∞Ïù¥ÌÑ∞ ÌÜµÌï©:** Ïù¥ ÎÖ∏ÎìúÎäî `Extract relevant data`ÏôÄ Í∞ôÏùÄ Ïù¥Ï†Ñ ÎÖ∏ÎìúÏóêÏÑú Ï∂îÏ∂ú Î∞è Ï≤òÎ¶¨Îêú Îç∞Ïù¥ÌÑ∞Î•º Ìö®Í≥ºÏ†ÅÏúºÎ°ú ÌôúÏö©Ìï©ÎãàÎã§. Ïù¥ ÏÉÅÏÑ∏Ìïú Ï†ïÎ≥¥Î•º ÌÜµÌï¥ Slack Î©îÏãúÏßÄÍ∞Ä ÌíçÎ∂ÄÌï¥ÏßÄÎ©∞, ÏúÑÌòëÏóê ÎåÄÌïú Ìè¨Í¥ÑÏ†ÅÏù∏ Í∞úÏöîÎ•º Ï†úÍ≥µÌï©ÎãàÎã§.\n- **GreyNoise Î∂ÑÏÑù ÏßÅÏ†ë ÎßÅÌÅ¨:** ÎòêÌïú, Slack Î©îÏãúÏßÄÏóêÎäî Ìï¥Îãπ IPÏóê ÎåÄÌïú GreyNoise ÏãúÍ∞ÅÌôîÏóê ÎåÄÌïú ÏßÅÏ†ë ÎßÅÌÅ¨Í∞Ä Ìè¨Ìï®Îê©ÎãàÎã§. Ïù¥ ÎßÅÌÅ¨Îäî `Extract relevant data` ÎÖ∏ÎìúÏùò Îç∞Ïù¥ÌÑ∞Î•º Í∏∞Î∞òÏúºÎ°ú ÏÉùÏÑ±ÎêòÎ©∞, ÌåÄ Íµ¨ÏÑ±ÏõêÏù¥ IPÏóê ÎåÄÌïú Ïã¨Ï∏µ Ï†ïÎ≥¥Î•º Îπ†Î•¥Í≤å Ï†ëÍ∑ºÌï† Ïàò ÏûàÎèÑÎ°ù ÌïòÏó¨, Îçî Îπ†Î•¥Í≥† Ï†ïÎ≥¥Ïóê Í∏∞Î∞òÌïú ÎåÄÏùëÏùÑ Í∞ÄÎä•ÌïòÍ≤å Ìï©ÎãàÎã§.\n\nÏù¥ Ï†ëÍ∑º Î∞©ÏãùÏùÄ n8nÏù¥ SlackÍ≥º Í∞ôÏùÄ Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò ÎèÑÍµ¨ÏôÄ ÏõêÌôúÌïòÍ≤å ÌÜµÌï©ÎêòÎäî Îä•Î†•ÏùÑ Î≥¥Ïó¨Ï£ºÎ©∞, ÏÇ¨Ïù¥Î≤Ñ Î≥¥Ïïà ÌåÄÏù¥ Ìï≠ÏÉÅ ÏúÑÌòëÏóê ÎåÄÌï¥ ÌÜµÎ≥¥Î•º Î∞õÍ≥† Ìö®Ïú®Ï†ÅÏúºÎ°ú ÎåÄÏùëÌï† Ïàò ÏûàÎèÑÎ°ù Ìï©ÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "b617da5f-f7e0-4c6d-8080-c1d4b2e2ed53",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        477,
        690
      ],
      "parameters": {
        "width": 696.8700988949365,
        "height": 894.3487921624444,
        "content": "## üîÑ  Ìè¨Í¥ÑÏ†Å Î∂ÑÏÑùÏùÑ ÏúÑÌïú Îç∞Ïù¥ÌÑ∞ Ìï©ÏÑ±  \n`Complete login info` ÎÖ∏ÎìúÎäî Ïó¨Îü¨ ÏÜåÏä§ÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º ÌÜµÌï©ÌïòÏó¨ Í∞Å Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏóê ÎåÄÌïú ÏÉÅÏÑ∏Ìïú Î∂ÑÏÑùÏùÑ ÏàòÌñâÌïòÎäî Ï§ëÏöîÌïú Ïó∞Í≤∞ ÏßÄÏ†ê Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.  \n\n-   **Îã§ÏñëÌïú Îç∞Ïù¥ÌÑ∞ Ïä§Ìä∏Î¶º Í≤∞Ìï©:** `Complete login info` ÎÖ∏ÎìúÎäî `GreyNoise`, `IP API`, Î∞è `UserParser` ÎÖ∏ÎìúÏùò Ï†ïÎ≥¥Î•º Î≥ëÌï©Ìï©ÎãàÎã§. Ïù¥ Í≥ºÏ†ïÏóêÏÑú GreyNoiseÏùò ÏúÑÌòë Ïù∏ÌÖîÎ¶¨Ï†ÑÏä§, IP-APIÏùò ÏßÄÎ¶¨Ï†Å ÏúÑÏπò ÏÑ∏Î∂Ä Ï†ïÎ≥¥, UserParserÏùò ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ Ï†ïÎ≥¥Î•º Í≤∞Ìï©ÌïòÏó¨ Ìè¨Í¥ÑÏ†ÅÏù∏ Îç∞Ïù¥ÌÑ∞ÏÖãÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.  \n-   **Î≥¥Ïïà Î∂ÑÏÑùÏùÑ ÏúÑÌïú Í∞ïÌôîÎêú Îß•ÎùΩ:** Ïù¥ Îã§ÏñëÌïú ÏÜåÏä§Ïùò Îç∞Ïù¥ÌÑ∞Î•º ÏúµÌï©ÌïòÏó¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞Îäî Í∞Å Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏóê ÎåÄÌïú Îã§Í∞ÅÏ†ÅÏù∏ Í¥ÄÏ†êÏùÑ ÏñªÏäµÎãàÎã§. Ïù¥ Í∞ïÌôîÎêú Îß•ÎùΩÏùÄ Ïû†Ïû¨Ï†Å Î≥¥Ïïà ÏúÑÌòëÏùÑ Îçî ÎÜíÏùÄ Ï†ïÌôïÎèÑÎ°ú ÏãùÎ≥ÑÌïòÎäî Îç∞ ÌïÑÏàòÏ†ÅÏûÖÎãàÎã§.  \n-   **Ìö®Ïú®Ï†ÅÏù∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Íµ¨Ï°∞:** Ïù¥ Îã§ÏñëÌïú Îç∞Ïù¥ÌÑ∞ Ìè¨Ïù∏Ìä∏Ïùò ÌÜµÌï©ÏùÄ n8nÏùò Î≥µÏû°Ìïú ÏõåÌÅ¨ÌîåÎ°úÏö∞ Í¥ÄÎ¶¨ Ìö®Ïú®ÏÑ±ÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§. Ïó¨Îü¨ Ï†ïÎ≥¥ Ïä§Ìä∏Î¶ºÏùÑ ÌïòÎÇòÏùò ÎÖ∏ÎìúÎ°ú Î™®ÏúºÎäî Î∞©ÏãùÏúºÎ°ú ÏõåÌÅ¨ÌîåÎ°úÏö∞Îäî Î∂ÑÏÑù Îã®Í≥ÑÏóêÏÑú Î™®Îì† Í¥ÄÎ†® Îç∞Ïù¥ÌÑ∞Î•º ÎèôÏãúÏóê Í≥†Î†§Ìï©ÎãàÎã§.  \n-   **ÌõÑÏÜç ÏõåÌÅ¨ÌîåÎ°úÏö∞ Îã®Í≥Ñ ÏïàÎÇ¥:** `Complete login info` ÎÖ∏ÎìúÍ∞Ä Ï§ÄÎπÑÌïú Îç∞Ïù¥ÌÑ∞ÏÖãÏùÄ ÏõåÌÅ¨ÌîåÎ°úÏö∞Ïùò ÌõÑÏÜç Îã®Í≥ÑÎ•º ÏúÑÌïú Í∏∞Î∞òÏùÑ ÎßàÎ†®Ìï©ÎãàÎã§. Ïù¥Îäî `Unknown threat?` Î∞è `Get last 10 logins from the same user`ÏôÄ Í∞ôÏùÄ ÌõÑÏÜç ÎÖ∏ÎìúÍ∞Ä Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏Ïùò Ï†ÑÏ≤¥Ï†ÅÏù∏ Í¥ÄÏ†êÏóê Í∏∞Î∞òÌïú Ï†ïÎ≥¥Ïóê ÏûÖÍ∞ÅÌïú Í≤∞Ï†ïÏùÑ ÎÇ¥Î¶¥ Ïàò ÏûàÎèÑÎ°ù ÌïÑÏöîÌïú Îß•ÎùΩÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "1e106297-b7db-4b2d-b08c-a35880782c8c",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1185,
        691
      ],
      "parameters": {
        "width": 663.6738255654103,
        "height": 892.4220900613532,
        "content": "## üìç Î°úÍ∑∏Ïù∏ ÏúÑÏπò Ïù¥ÏÉÅ Í∞êÏßÄ\n\n`Get last 10 logins from the same user` ÎÖ∏ÎìúÎ•º Îî∞Î•¥Îäî ÎÖ∏ÎìúÎì§ÏùÄ Î°úÍ∑∏Ïù∏ ÏúÑÏπò Ìå®ÌÑ¥ÏùÑ Î∂ÑÏÑùÌïòÏó¨ Ïù¥ÏÉÅÏùÑ ÏãùÎ≥ÑÌïòÎäî Îç∞ Ï†ÑÎÖêÌï©ÎãàÎã§.\n\n- **Ïó≠ÏÇ¨Ï†Å Î°úÍ∑∏Ïù∏ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞:** `Get last 10 logins from the same user` ÎÖ∏ÎìúÎäî Postgres Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î•º ÏøºÎ¶¨ÌïòÏó¨ ÏÇ¨Ïö©ÏûêÏùò ÎßàÏßÄÎßâ 10Ìöå Î°úÍ∑∏Ïù∏ Í∏∞Î°ùÏùÑ Í∞ÄÏ†∏ÏòµÎãàÎã§. Ïù¥ Îç∞Ïù¥ÌÑ∞Îäî ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ ÏúÑÏπòÎ•º ÏãùÎ≥ÑÌïòÍ∏∞ ÏúÑÌïú Í∏∞Ï§ÄÏù¥ Îê©ÎãàÎã§.\n\n- **ÌòÑÏû¨ Î∞è Ïó≠ÏÇ¨Ï†Å ÏßÄÎ¶¨Ï†Å ÏúÑÏπò Îç∞Ïù¥ÌÑ∞ ÎπÑÍµê:** `Query IP API1` ÎÖ∏ÎìúÎäî ÌòÑÏû¨ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏùò ÏßÄÎ¶¨Ï†Å ÏúÑÏπò Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏ÏòµÎãàÎã§. Ïù¥ Îç∞Ïù¥ÌÑ∞Îäî `New location?` ÎÖ∏ÎìúÏóêÏÑú Ïó≠ÏÇ¨Ï†Å Î°úÍ∑∏Ïù∏ ÏúÑÏπòÏôÄ ÎπÑÍµêÎê©ÎãàÎã§.\n\n- **ÏúÑÏπò Ïù¥ÏÉÅ ÏãùÎ≥Ñ:** `New location?` ÎÖ∏ÎìúÎäî ÌòÑÏû¨ Î°úÍ∑∏Ïù∏ ÏãúÏùò ÎèÑÏãúÍ∞Ä ÏÇ¨Ïö©ÏûêÏùò Î°úÍ∑∏Ïù∏ Ïó≠ÏÇ¨Ïóê ÏûàÎäî ÎèÑÏãúÏôÄ Îã§Î•¥ÏßÄ ÏïäÏùÄÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§. Ïù¥ ÎπÑÍµêÎäî ÏÉàÎ°úÏö¥, Ïû†Ïû¨Ï†ÅÏúºÎ°ú ÏùòÏã¨Ïä§Îü¨Ïö¥ ÏúÑÏπòÏóêÏÑúÏùò Î°úÍ∑∏Ïù∏Í≥º Í∞ôÏùÄ ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ Ìå®ÌÑ¥ÏùÑ Í∞êÏßÄÌïòÎäî Îç∞ Ï§ëÏöîÌï©ÎãàÎã§.\n\n- **ÏúÑÏπò ÏùºÍ¥ÄÏÑ± Í∏∞Î∞ò ÎùºÏö∞ÌåÖ:** ÌòÑÏû¨ Î°úÍ∑∏Ïù∏ ÏúÑÏπòÍ∞Ä Ïó≠ÏÇ¨Ï†Å Ìå®ÌÑ¥Í≥º ÏùºÏπòÌïòÎäîÏßÄÏóê Îî∞Îùº ÏõåÌÅ¨ÌîåÎ°úÎäî `New Location` ÎòêÎäî `Known Location` ÎÖ∏ÎìúÎ°ú Î∂ÑÍ∏∞Îê©ÎãàÎã§. `New Location` ÎÖ∏ÎìúÎäî ÏÉàÎ°úÏö¥ ÎèÑÏãúÏóêÏÑúÏùò Î°úÍ∑∏Ïù∏Ïù¥ Í∞êÏßÄÎê† Îïå ÌôúÏÑ±ÌôîÎêòÏñ¥ Ïû†Ïû¨Ï†ÅÏù∏ Î≥¥Ïïà ÏúÑÌóòÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§. Î∞òÎåÄÎ°ú, `Known Location` ÎÖ∏ÎìúÎäî Î°úÍ∑∏Ïù∏ ÏúÑÏπòÍ∞Ä Ïó≠ÏÇ¨Ï†Å Îç∞Ïù¥ÌÑ∞ÏôÄ ÏùºÏπòÌï† Îïå ÌôúÏÑ±ÌôîÎêòÏñ¥ ÏùºÎ∞òÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ Ìå®ÌÑ¥ÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "3e091a54-2fdc-491c-a168-0fb4fb704fd8",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2310.5877845770297,
        691.4637444823477
      ],
      "parameters": {
        "width": 629.1148167417672,
        "height": 841.097003209987,
        "content": "## üìß ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏóê ÎåÄÌïú ÏÇ¨Ïö©Ïûê ÏïåÎ¶º\n\n\"Suspicious Login Detection\" ÏõåÌÅ¨ÌîåÎ°úÏùò ÏµúÏ¢Ö ÏÑπÏÖòÏóêÏÑú `User has email?`, `HTML`, Í∑∏Î¶¨Í≥† `Inform user` ÎÖ∏ÎìúÍ∞Ä Ìï®Íªò ÏûëÎèôÌïòÏó¨ ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÎ•º ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÏïåÎ¶ºÏúºÎ°úÏç® ÏãúÏä§ÌÖúÏùò Î≥¥ÏïàÍ≥º ÏùëÎãµÏÑ±ÏùÑ Í∞ïÌôîÌï©ÎãàÎã§.\n\n- **Ïù¥Î©îÏùº Í∞ÄÏö©ÏÑ± ÌôïÏù∏:** `Query user by ID`Î°ú ÏÇ¨Ïö©Ïûê ÏÑ∏Î∂Ä Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò® ÌõÑ, `User has email?` ÎÖ∏ÎìúÍ∞Ä ÏÇ¨Ïö©ÏûêÍ∞Ä Í∏∞Î°ùÎêú Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º Í∞ÄÏßÄÍ≥† ÏûàÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§. Ïù¥ ÌôïÏù∏ÏùÄ Ïú†Ìö®Ìïú Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º Í∞ÄÏßÑ ÏÇ¨Ïö©ÏûêÏóêÍ≤åÎßå ÏïåÎ¶º ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä ÏßÑÌñâÎêòÎèÑÎ°ù Î≥¥Ïû•ÌïòÎäî Îç∞ Ï§ëÏöîÌï©ÎãàÎã§.\n\n- **ÏïåÎ¶º Î©îÏãúÏßÄ ÏûëÏÑ±:** `HTML` ÎÖ∏ÎìúÍ∞Ä Ïù¥Î©îÏùº ÏΩòÌÖêÏ∏†Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§. Ïù¥ ÎÖ∏ÎìúÎäî ÏÉàÎ°úÏö¥ Í∏∞Í∏∞ÎÇò ÏúÑÏπòÏóêÏÑúÏùò ÏµúÍ∑º Î°úÍ∑∏Ïù∏ÏùÑ ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÏïåÎ¶¨Îäî Ïûò Íµ¨ÏÑ±Îêú HTML Î©îÏãúÏßÄÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§. Î©îÏãúÏßÄÏóêÎäî ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ, ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ, ÏúÑÏπò, Í∑∏Î¶¨Í≥† Í∏∞Í∏∞ Ï†ïÎ≥¥ÏôÄ Í∞ôÏùÄ ÏÑ∏Î∂Ä ÏÇ¨Ìï≠Ïù¥ Ìè¨Ìï®ÎêòÏñ¥ Î°úÍ∑∏Ïù∏ ÌôúÎèôÏóê ÎåÄÌïú Íµ¨Ï≤¥Ï†ÅÏù∏ ÌÜµÏ∞∞ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.\n\n- **Ïù¥Î©îÏùº ÏïåÎ¶º Î≥¥ÎÇ¥Í∏∞:** ÎßàÏßÄÎßâÏúºÎ°ú, `Inform user` ÎÖ∏ÎìúÍ∞Ä Ïù¥Î©îÏùº ÏïåÎ¶ºÏùÑ Î≥¥ÎÉÖÎãàÎã§. Ïù¥ ÎÖ∏ÎìúÎäî Ïù¥Ï†Ñ Îã®Í≥ÑÏóêÏÑú ÏñªÏùÄ ÏÇ¨Ïö©Ïûê Ïù¥Î©îÏùº Ï£ºÏÜåÎ°ú `HTML` ÎÖ∏ÎìúÍ∞Ä ÏûëÏÑ±Ìïú Î©îÏãúÏßÄÎ•º GmailÏùÑ ÌÜµÌï¥ Î∞úÏÜ°Ìï©ÎãàÎã§.\n\n- **ÏÇ¨Ïö©Ïûê Ïù∏Ïãù Î∞è Î≥¥Ïïà Í∞ïÌôî:** ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ ÌôúÎèôÏùÑ ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÏïåÎ¶ºÏúºÎ°úÏç® ÏõåÌÅ¨ÌîåÎ°úÎäî Î≥¥ÏïàÏùÑ Í∞ïÌôîÌï† ÎøêÎßå ÏïÑÎãàÎùº, Î°úÍ∑∏Ïù∏Ïù¥ ÏäπÏù∏ÎêòÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ Ï¶âÏãú Ï°∞ÏπòÎ•º Ï∑®Ìï† Ïàò ÏûàÎèÑÎ°ù ÏÇ¨Ïö©ÏûêÏóêÍ≤å Í∂åÌïúÏùÑ Î∂ÄÏó¨Ìï©ÎãàÎã§. Ïù¥Îäî ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤ΩÏù¥ÎÇò Î≥¥Ïïà ÌåÄ Ïó∞ÎùΩÍ≥º Í∞ôÏùÄ Îã®Í≥ÑÎ•º Ìè¨Ìï®Ìï† Ïàò ÏûàÏäµÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "f9c6f726-ce2f-448b-a392-b86e0507ce13",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1858,
        691.3527917931716
      ],
      "parameters": {
        "width": 442.82773054232473,
        "height": 839.4355618292594,
        "content": "## üß© ÏÇ¨Ïö©Ïûê ÏÑ∏Î∂Ä Ï†ïÎ≥¥ Ï°∞ÌöåÎ•º ÏúÑÌïú Ìñ•ÏÉÅÎêú Ïª®ÌÖçÏä§Ìä∏\n\n`Query user by ID` ÎÖ∏ÎìúÎäî Î≥¥Ïïà Î∂ÑÏÑùÏùÑ ÏúÑÌïú Ìñ•ÏÉÅÎêú Ïª®ÌÖçÏä§Ìä∏Î•º Ï†úÍ≥µÌïòÍ∏∞ ÏúÑÌï¥ Ï∂îÍ∞ÄÏ†ÅÏù∏ ÏÇ¨Ïö©Ïûê ÌäπÏ†ï Ï†ïÎ≥¥Î•º ÏàòÏßëÌïòÎäî Îç∞ Ï§ëÏöîÌïú Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.\n\n-   **ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í≤ÄÏÉâ:** `Query user by ID` ÎÖ∏ÎìúÎäî ÌòÑÏû¨ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏôÄ Ïó∞Í¥ÄÎêú ÏÇ¨Ïö©Ïûê IDÏóê ÎåÄÌïú ÏûêÏÑ∏Ìïú Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Í∏∞ ÏúÑÌï¥ Postgres Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏôÄ ÏÉÅÌò∏ÏûëÏö©Ìï©ÎãàÎã§. Ïù¥ Ï†ïÎ≥¥Îäî ÏÇ¨Ïö©ÏûêÏùò ÌîÑÎ°úÌïÑÍ≥º Ï†ëÍ∑º Ìå®ÌÑ¥ÏùÑ Ïù¥Ìï¥ÌïòÎäî Îç∞ ÌïÑÏàòÏ†ÅÏûÖÎãàÎã§.\n\n-   **ÏúÑÏπò Î∞è Ïû•Ïπò Î∂ÑÏÑù ÌÜµÌï©:** Ïù¥ ÎÖ∏ÎìúÎäî `New Location` ÎòêÎäî `New Device/Browser` ÎÖ∏ÎìúÏùò Í≤ΩÍ≥† ÌõÑÏóê Ìä∏Î¶¨Í±∞Îê©ÎãàÎã§. Ïù¥Îü¨Ìïú Í≤ΩÍ≥†Îäî ÌòÑÏû¨ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÍ∞Ä ÏÉàÎ°úÏö¥ ÏúÑÏπòÎÇò Ïû•Ïπò/Î∏åÎùºÏö∞Ï†Ä ÏÇ¨Ïö©ÏúºÎ°ú Ïù∏Ìï¥ Ïû†Ïû¨Ï†ÅÏúºÎ°ú ÏùòÏã¨Ïä§Îü¨Ïö¥ Í≤ÉÏúºÎ°ú ÎÇòÌÉÄÎÉÖÎãàÎã§.\n\n-   **Î≥¥Ïïà ÌÜµÏ∞∞Î†• Í∞ïÌôî:** ÏÇ¨Ïö©ÏûêÏùò ÏûêÏÑ∏Ìïú Îç∞Ïù¥ÌÑ∞Î•º Ï°∞ÌöåÌïòÏó¨ ÏõåÌÅ¨ÌîåÎ°úÎäî ÏÇ¨Ïö©ÏûêÏùò Ï†ïÏÉÅÏ†ÅÏù∏ Ï†ëÍ∑º Ìå®ÌÑ¥Í≥º ÌîÑÎ°úÌïÑÏóê ÎåÄÌïú Îçî ÍπäÏùÄ Ïù¥Ìï¥Î•º ÏñªÏäµÎãàÎã§. Ïù¥ Ï†ïÎ≥¥Îäî Ìï©Î≤ïÏ†ÅÏù∏ ÏÇ¨Ïö©Ïûê ÌñâÎèôÍ≥º Ïû†Ïû¨Ï†ÅÏù∏ Î¨¥Îã® Ï†ëÍ∑ºÏùÑ Íµ¨Î∂ÑÌïòÎäî Îç∞ Ï§ëÏöîÌïú Ïó≠Ìï†ÏùÑ Ìï† Ïàò ÏûàÏäµÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "6fd1a35c-5abc-4655-b5b5-836b49129d24",
      "name": "riot?",
      "type": "n8n-nodes-base.if",
      "position": [
        520,
        380
      ],
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $('GreyNoise').item.json.riot }}",
              "value2": true
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "123fa821-4eb0-42b9-99c9-a0157f7ffac8",
      "name": "üî¥ Priority: HIGH",
      "type": "n8n-nodes-base.set",
      "position": [
        1180,
        220
      ],
      "parameters": {
        "values": {
          "string": [
            {
              "name": "priority",
              "value": "üî¥ High"
            }
          ]
        },
        "options": {},
        "keepOnlySet": true
      },
      "typeVersion": 2
    },
    {
      "id": "459d0152-8184-4031-8f70-6c100f2bc6c3",
      "name": "üü° Priority: MEDIUM",
      "type": "n8n-nodes-base.set",
      "position": [
        1180,
        360
      ],
      "parameters": {
        "values": {
          "string": [
            {
              "name": "priority",
              "value": "üü° Medium"
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 2
    },
    {
      "id": "58427db9-8ef7-4916-8564-727bd587401d",
      "name": "üü¢ Priority: LOW",
      "type": "n8n-nodes-base.set",
      "position": [
        1180,
        500
      ],
      "parameters": {
        "values": {
          "string": [
            {
              "name": "priority",
              "value": "üü¢ Low"
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 2
    },
    {
      "id": "fd1e93a2-267e-4d5e-9724-6a4bb46b94b2",
      "name": "GreyNoise",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        280,
        440
      ],
      "parameters": {
        "url": "=https://api.greynoise.io/v3/community/{{ $json.ip }}",
        "options": {
          "response": {
            "response": {
              "neverError": true
            }
          }
        },
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth"
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "wwwfQfxzoBK7NH2a",
          "name": "n8n greynoise api key"
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "032b9558-a19b-4790-8593-8949ab2606d4",
      "name": "IP API",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        40,
        1280
      ],
      "parameters": {
        "url": "=http://ip-api.com/json/{{ $json.ip }}",
        "options": {}
      },
      "typeVersion": 4.1
    },
    {
      "id": "6cff0db9-27c3-4c4b-9af0-e8a8d55ad107",
      "name": "UserParser",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        80,
        1522
      ],
      "parameters": {
        "url": "https://api.userparser.com/1.1/detect",
        "options": {},
        "sendQuery": true,
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "queryParameters": {
          "parameters": [
            {
              "name": "ua",
              "value": "={{ $json.userAgent }}"
            }
          ]
        }
      },
      "credentials": {
        "httpQueryAuth": {
          "id": "33f1NrH1bLdXCGyw",
          "name": "n8n Userparser API Key"
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "65c7a039-5257-495d-86c2-18a44627ebe1",
      "name": "When clicking \"Execute Workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -740,
        880
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a038a10a-baaf-4649-9d38-4fa661dfc4ce",
      "name": "Example event",
      "type": "n8n-nodes-base.code",
      "position": [
        -480,
        880
      ],
      "parameters": {
        "jsCode": "return {\n  json:\n  {\n    \"headers\": {\n      \"host\": \"internal.users.n8n.cloud\",\n      \"user-agent\": \"PostmanRuntime/7.32.3\",\n      \"content-length\": \"857\",\n      \"accept\": \"*/*\",\n      \"accept-encoding\": \"gzip, deflate, br\",\n      \"content-type\": \"application/json\",\n      \"postman-token\": \"e10e747f-0668-4238-9a3d-148b2c8591da\",\n      \"x-forwarded-for\": \"10.255.0.2\",\n      \"x-forwarded-host\": \"internal.users.n8n.cloud\",\n      \"x-forwarded-port\": \"443\",\n      \"x-forwarded-proto\": \"https\",\n      \"x-forwarded-server\": \"e591fa1c2d01\",\n      \"x-real-ip\": \"10.255.0.2\"\n    },\n    \"params\": {},\n    \"query\": {},\n    \"body\": {\n      \"anonymousId\": \"b4191c58-7d64-4c93-8bb4-479c3c95d283\",\n      \"context\": {\n        \"ip\": \"2.204.248.108\",\n        \"library\": {\n          \"name\": \"analytics.js\",\n          \"version\": \"next-1.53.0\"\n        },\n        \"locale\": \"en-US\",\n        \"page\": {\n          \"path\": \"/login\",\n          \"referrer\": \"https://github.com/\",\n          \"search\": \"\",\n          \"title\": \"n8n.cloud\",\n          \"url\": \"https://stage-app.n8n.cloud/login\"\n        },\n        \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/114.0\"\n      },\n      \"event\": \"User signed in\",\n      \"integrations\": {},\n      \"messageId\": \"ajs-next-a14f5b6e9860c7318a27f1ac05b3182d\",\n      \"originalTimestamp\": \"2023-06-28T11:26:46.302Z\",\n      \"properties\": {},\n      \"receivedAt\": \"2023-06-28T11:26:46.550Z\",\n      \"sentAt\": \"2023-06-28T11:26:46.313Z\",\n      \"timestamp\": \"2023-06-28T11:26:46.539Z\",\n      \"type\": \"track\",\n      \"userId\": \"staging-2055\"\n    }\n  }\n}"
      },
      "typeVersion": 2
    },
    {
      "id": "700a08d8-09ce-486c-bcfb-07d15f268d08",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -803,
        -83
      ],
      "parameters": {
        "width": 794.5711626683587,
        "height": 1175.5321499586535,
        "content": "![ÏõπÌõÖ](https://i.imgur.com/D6SP9P0.png)  \n## ÏõåÌÅ¨ÌîåÎ°úÏö∞ Í∞úÏöî\n\nn8nÏùò `Suspicious Login Detection` ÏõåÌÅ¨ÌîåÎ°úÏö∞Î°ú Ìñ•ÏÉÅÎêú ÏÇ¨Ïù¥Î≤Ñ Î≥¥ÏïàÏùÑ Í≤ΩÌóòÌïòÏÑ∏Ïöî. Ïù¥Îäî Ïã§ÏãúÍ∞Ñ Î™®ÎãàÌÑ∞ÎßÅÍ≥º ÏùòÏã¨Ïä§Îü¨Ïö¥ Î°úÍ∑∏Ïù∏ ÌôúÎèôÏóê ÎåÄÌïú Ïã†ÏÜçÌïú ÎåÄÏùëÏùÑ ÏúÑÌïú ÏµúÏ†ÅÏùò ÏÜîÎ£®ÏÖòÏûÖÎãàÎã§. Ïù¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞Îäî ÌÖåÏä§Ìä∏ Î∞è Ïö¥ÏòÅ ÏöîÍµ¨ÏÇ¨Ìï≠Ïóê ÎßûÍ≤å ÏàòÎèô Î∞è ÏûêÎèô ÏõπÌõÖ Ìä∏Î¶¨Í±∞Î•º Î™®Îëê ÏßÄÏõêÌï©ÎãàÎã§.\n\nÏù¥ [GreyNoise Í∞ÄÏù¥Îìú](https://docs.greynoise.io/docs/applying-greynoise-data-to-your-analysis)Îäî Ïù¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞Ïùò ÏïÑÌÇ§ÌÖçÌÑ∞Î•º ÏÑ§Í≥ÑÌïòÎäî Îç∞ ÏÇ¨Ïö©ÎêòÏóàÏúºÎ©∞, Ïù¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞Ïùò ÏûêÏ≤¥ Î≤ÑÏ†ÑÏùÑ ÎßåÎìúÎäî Îç∞ Ïú†Ïö©Ìïú Í∞ÄÏù¥Îìú Ïó≠Ìï†ÏùÑ Ìï† Ïàò ÏûàÏäµÎãàÎã§.\n\nÏ£ºÏöî Í∏∞Îä•:\n\n- Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú: Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏ÏóêÏÑú IP Ï£ºÏÜåÏôÄ ÏÇ¨Ïö©Ïûê IDÏôÄ Í∞ôÏùÄ Ï§ëÏöîÌïú Îç∞Ïù¥ÌÑ∞Î•º ÏõêÌôúÌïòÍ≤å Ï∂îÏ∂úÌï©ÎãàÎã§.\n- ÏÇºÏ§ë ÏúÑÌòë Î∂ÑÏÑù: IP Ïã†Î¢∞ ÌèâÍ∞ÄÎ•º ÏúÑÌïú `GreyNoise`, ÏúÑÏπò Ï†ïÎ≥¥ ÌÜµÏ∞∞ÏùÑ ÏúÑÌïú `IP-API`, ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ ÏÑ∏Î∂Ä ÏÇ¨Ìï≠ÏùÑ ÏúÑÌïú `UserParser`Î•º ÏÇ¨Ïö©ÌïòÏó¨ ÏÑ∏ Í∞ÄÏßÄ Í≤ΩÎ°úÎ°ú Î∂ÑÌï†ÌïòÏó¨ Ï≤†Ï†ÄÌûà Í≤ÄÌÜ†Ìï©ÎãàÎã§.\n- Ïö∞ÏÑ†ÏàúÏúÑ ÏïåÎ¶º: ÏïåÎ¶º Ïö∞ÏÑ†ÏàúÏúÑÎ•º Ìï†ÎãπÌïòÍ≥† `Slack`ÏùÑ ÌÜµÌï¥ Ïã†ÏÜçÌïòÍ≤å ÏïåÎ¶ºÏùÑ Î≥¥ÎÇ¥ Í≥†ÏúÑÌóò ÌôúÎèôÏóê Ï¶âÏãú Ï£ºÏùòÎ•º Í∏∞Ïö∏ÏûÖÎãàÎã§.\n- Ïã¨Ï∏µ Ï°∞ÏÇ¨: Î°úÍ∑∏Ïù∏ Í∏∞Î°ùÏùÑ ÍµêÏ∞® Ï∞∏Ï°∞ÌïòÏó¨ Ïù¥ÏÉÅ ÏßïÌõÑÎ•º ÏãùÎ≥ÑÌïòÍ≥† Ïû†Ïû¨Ï†Å ÏúÑÌòëÏùÑ ÌîåÎûòÍ∑∏ÌïòÏó¨ Î≥¥Ïïà ÌåÄÏù¥ Ìïú Î∞ú ÏïûÏÑúÍ≤å Ìï©ÎãàÎã§.\n\nÏÑ§Ï†ïÏù¥ ÏâΩÍ≥† Ï†ÅÏùëÎ†•Ïù¥ Í∞ïÌïú Ïù¥ n8n ÏõåÌÅ¨ÌîåÎ°úÏö∞Îäî ÎîîÏßÄÌÑ∏ ÌôòÍ≤ΩÏùÑ Î≥¥Ìò∏ÌïòÎäî Í∞ïÎ†•Ìïú ÎèÑÍµ¨ÏûÖÎãàÎã§.\n\n## ‚ñ∂Ô∏èÏ¥àÍ∏∞ Ìä∏Î¶¨Í±∞: ÏùòÏã¨Ïä§Îü¨Ïö¥ Î°úÍ∑∏Ïù∏ Í∞êÏßÄ\n\nÏù¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞Ïùò Ï¥àÍ∏∞ Ìä∏Î¶¨Í±∞Îäî ÏÉàÎ°úÏö¥ Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏Î•º Í∞êÏßÄÌïòÎäî Í≤ÉÏûÖÎãàÎã§. Ïù¥Îäî ÏÉàÎ°úÏö¥ /login Ïù¥Î≤§Ìä∏Î•º Ìä∏Î¶¨Í±∞ÌïòÎèÑÎ°ù ÏÑ§Ï†ïÎêú ÏõπÌõÖ(`New /login event` ÎÖ∏Îìú)Í≥º ÌÖåÏä§Ìä∏ Î™©Ï†ÅÏúºÎ°ú ÏÇ¨Ïö©ÎêòÎäî ÏàòÎèô Ìä∏Î¶¨Í±∞(`When clicking \"Execute Workflow\"` ÎÖ∏Îìú)Ïùò Ï°∞Ìï©ÏúºÎ°ú Îã¨ÏÑ±Îê©ÎãàÎã§. ÏõπÌõÖÏùÄ Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏ÏóêÏÑú IP Ï£ºÏÜåÏôÄ ÏÇ¨Ïö©Ïûê ÏÑ∏Î∂Ä Ï†ïÎ≥¥ÏôÄ Í∞ôÏùÄ Ï§ëÏöîÌïú Ï†ïÎ≥¥Î•º Ï∫°Ï≤òÌïòÎèÑÎ°ù Íµ¨ÏÑ±Îê©ÎãàÎã§.\n\nÏù¥ ÏÑ§Ï†ïÏùÄ Î°úÍ∑∏Ïù∏ ÌôúÎèôÏùò Ïã§ÏãúÍ∞Ñ Î™®ÎãàÌÑ∞ÎßÅÏóê ÌïÑÏàòÏ†ÅÏûÖÎãàÎã§. Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÌïòÎ©¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞Í∞Ä Ï¶âÏãú ÏûëÎèôÌïòÏó¨ `Extract relevant data` ÎÖ∏ÎìúÎ•º ÏÇ¨Ïö©ÌïòÏó¨ Í¥ÄÎ†® Îç∞Ïù¥ÌÑ∞Î•º Ï∂îÏ∂úÌïòÍ≥† Ï≤òÎ¶¨Ìï©ÎãàÎã§.\n\n### Ï∂úÎ†•"
      },
      "typeVersion": 1
    },
    {
      "id": "ff6bbb3c-1c14-4e94-bfae-58e8cbb098c4",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0.113308604309168,
        690
      ],
      "parameters": {
        "width": 469.4801859287644,
        "height": 736.6018800373852,
        "content": "![ipapi](https://i.imgur.com/OMhn14b.png)  \n## üåê IP-APIÎ•º ÏÇ¨Ïö©Ìïú IP ÏßÄÎ¶¨ ÏúÑÏπò Ï†ïÎ≥¥  \n\"Suspicious Login Detection\" ÏõåÌÅ¨ÌîåÎ°úÏö∞Ïùò `IP API` ÎÖ∏ÎìúÎäî Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏Ïóê Ï§ëÏöîÌïú ÏßÄÎ¶¨ ÏúÑÏπò Îß•ÎùΩÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§. Ïù¥Ï†ÑÏóê Ï∂îÏ∂úÎêú IP Ï£ºÏÜåÏóê ÎåÄÌïú ÏßÄÎ¶¨Ï†Å Îç∞Ïù¥ÌÑ∞Î•º IP-APIÏóêÏÑú Ï°∞ÌöåÌï©ÎãàÎã§.  \n\n- **ÏßÄÎ¶¨Ï†Å ÌÜµÏ∞∞Î†•:** Ïù¥ ÎÖ∏ÎìúÎäî Íµ≠Í∞Ä, ÏßÄÏó≠, ÎèÑÏãúÏôÄ Í∞ôÏùÄ ÏßÄÎ¶¨Ï†Å ÏÑ∏Î∂Ä Ï†ïÎ≥¥Î•º Ï†úÍ≥µÌïòÏó¨ Î≥¥Ïïà ÏúÑÌóòÏùÑ ÎÇòÌÉÄÎÇº Ïàò ÏûàÎäî ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ ÏúÑÏπòÎ•º ÏãùÎ≥ÑÌïòÎäî Îç∞ ÎèÑÏõÄÏù¥ Îê©ÎãàÎã§.  \n- **Î≥¥Ïïà Î∂ÑÏÑù Í∞ïÌôî:** ÏßÄÎ¶¨Ï†Å Îç∞Ïù¥ÌÑ∞Îäî Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏùò Ìï©Î≤ïÏÑ±ÏùÑ ÌèâÍ∞ÄÌïòÎäî Îç∞ ÎèÑÏõÄÏù¥ ÎêòÎ©∞, Î≥¥Ïïà Î∂ÑÏÑùÏóê Ï§ëÏöîÌïú Î†àÏù¥Ïñ¥Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§.  \n\n### Ïù∏Ï¶ù - Î¨¥Î£å Ìã∞Ïñ¥ ÏÇ¨Ïö© Í∞ÄÎä• (45 ÏöîÏ≤≠/Î∂Ñ)  \nÏù¥ ÏóîÎìúÌè¨Ïù∏Ìä∏Îäî `IP Ï£ºÏÜåÎãπ 45Ìöå ÏöîÏ≤≠/Î∂Ñ`ÏúºÎ°ú Ï†úÌïúÎê©ÎãàÎã§.  \n\nÏ†úÌïúÏùÑ Ï¥àÍ≥ºÌïòÎ©¥ ÏöîÏ≤≠Ïù¥ Ï†úÌïúÎê©ÎãàÎã§ `(HTTP 429)`ÍπåÏßÄ ÏöîÍ∏à ÌïúÎèÑ Ï∞ΩÏù¥ Ïû¨ÏÑ§Ï†ïÎê† ÎïåÍπåÏßÄ. ÏßÄÏÜçÏ†ÅÏúºÎ°ú Ï†úÌïúÏùÑ Ï¥àÍ≥ºÌïòÎ©¥ IP Ï£ºÏÜåÍ∞Ä 1ÏãúÍ∞Ñ ÎèôÏïà Ï∞®Îã®Îê©ÎãàÎã§.  \n\nÏù∏Ï¶ù Î∂àÌïÑÏöî, [Î¨∏ÏÑú Î≥¥Í∏∞.](https://ip-api.com/docs)  \n\n### Ï∂úÎ†•"
      },
      "typeVersion": 1
    },
    {
      "id": "57adbcf5-f927-4bdb-b863-bcff97be0ace",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        1435
      ],
      "parameters": {
        "width": 470.4372486447854,
        "height": 1044.866146557656,
        "content": "![userparser](https://i.imgur.com/IxvDyZB.png)  \n## üîÑ ÏßÄÎ¶¨Ï†Å ÏúÑÏπò Î∞è ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ Îç∞Ïù¥ÌÑ∞ Î≥ëÌï©\n\n\"Suspicious Login Detection\" ÏõåÌÅ¨ÌîåÎ°úÏö∞ÏóêÏÑú `Merge` ÎÖ∏ÎìúÎäî `IP API` Î∞è `UserParser` ÎÖ∏ÎìúÏùò Ï†ïÎ≥¥Î•º Ï¢ÖÌï©ÌïòÎäî ÌïµÏã¨ Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.\n\n- **Îç∞Ïù¥ÌÑ∞ ÌÜµÌï©:** `Merge` ÎÖ∏ÎìúÎäî `IP API` ÎÖ∏ÎìúÏùò ÏßÄÎ¶¨Ï†Å ÏúÑÏπò ÏÑ∏Î∂Ä Ï†ïÎ≥¥ÏôÄ `UserParser` ÎÖ∏ÎìúÏùò ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ Ï†ïÎ≥¥Î•º Í≤∞Ìï©Ìï©ÎãàÎã§. Ïù¥ ÌÜµÌï©ÏùÑ ÌÜµÌï¥ Í∞Å Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏Ïóê ÎåÄÌïú Ìè¨Í¥ÑÏ†ÅÏù∏ Í¥ÄÏ†êÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.\n\n- **Ìè¨Í¥ÑÏ†ÅÏù∏ Î∂ÑÏÑù:** ÏßÄÎ¶¨Ï†Å ÏúÑÏπòÏôÄ ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ Îç∞Ïù¥ÌÑ∞Î•º Î≥ëÌï©ÌïòÏó¨ ÏõåÌÅ¨ÌîåÎ°úÎäî Í∞Å Î°úÍ∑∏Ïù∏ ÏãúÎèÑ Îí§Ïùò Îß•ÎùΩÏùÑ Îçî ÏôÑÏ†ÑÌûà Ïù¥Ìï¥Ìï† Ïàò ÏûàÏúºÎ©∞, Î≥¥Ïïà ÏúÑÌóòÏùÑ Ï†ïÌôïÌïòÍ≤å ÌèâÍ∞ÄÌïòÎäî Îç∞ ÌïÑÏàòÏ†ÅÏûÖÎãàÎã§.\n\n- **Ìö®Ïú®Ï†ÅÏù∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÑ§Í≥Ñ:** `Merge` ÎÖ∏ÎìúÏùò ÏÇ¨Ïö©ÏùÄ n8nÏù¥ Îã§ÏñëÌïú Îç∞Ïù¥ÌÑ∞ Ïä§Ìä∏Î¶ºÏùÑ Ìö®Ïú®Ï†ÅÏúºÎ°ú Ï≤òÎ¶¨ÌïòÏó¨ Î™®Îì† Í¥ÄÎ†® Ï†ïÎ≥¥Î•º ÌÜµÌï©Îêú Î∂ÑÏÑùÏùÑ ÏúÑÌï¥ Î™®ÏúºÎäî Í≤ÉÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§.\n\n### Ïù∏Ï¶ù - Î¨¥Î£å Ìã∞Ïñ¥ ÏÇ¨Ïö© Í∞ÄÎä• (Ïõî 10000 Ìò∏Ï∂ú)  \nÏù¥ ÏóîÎìúÌè¨Ïù∏Ìä∏Îäî `ÌïòÎ£® 500 Ìò∏Ï∂ú`ÏúºÎ°ú Ï†úÌïúÎê©ÎãàÎã§.\n\nUserParserÏùò API ÌÇ§Î•º ÏÑ§Ï†ïÌïòÎ†§Î©¥ `UserParser HTTP Request` ÎÖ∏ÎìúÎ•º Ïó¥Í≥† ÏÉà Ïù∏Ï¶ù ÏûêÍ≤©Ï¶ùÎ™ÖÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî. `Generic Credential Type`ÏùÑ ÏÑ†ÌÉùÌïú ÌõÑ `Query Auth`Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî. ÎßàÏßÄÎßâÏúºÎ°ú `Credential for Query Auth`ÏóêÏÑú Ïù¥Î¶ÑÏùÑ `api_key`Î°ú, Í∞íÏùÑ Ïã§Ï†ú `API ÌÇ§`Î°ú ÏÑ§Ï†ïÌïòÏÑ∏Ïöî.\n\n[Î¨∏ÏÑúÎ•º Î≥¥Î†§Î©¥ Ïó¨Í∏∞Î•º ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî.](https://www.userparser.com/docs/user-agent-and-geoip-lookup-api-v1.1)\n\n### Ï∂úÎ†•"
      },
      "typeVersion": 1
    },
    {
      "id": "44830be0-428a-492e-97f7-66289fac6231",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1184,
        1590
      ],
      "parameters": {
        "width": 659.8254746666762,
        "height": 845.1421530016269,
        "content": "## üì± Ïû•Ïπò Î∞è Î∏åÎùºÏö∞Ï†Ä Ïù¥ÏÉÅ ÏãùÎ≥Ñ\n`Parse User Agent` Î∞è `New Device/Browser?` ÎÖ∏ÎìúÎäî Î°úÍ∑∏Ïù∏ Ïù¥Î≤§Ìä∏Ïùò Ïû•Ïπò Î∞è Î∏åÎùºÏö∞Ï†Ä ÏÇ¨Ïö©ÏóêÏÑú Ïù¥ÏÉÅÏùÑ Í∞êÏßÄÌïòÎäî Îç∞ Ï§ëÏ†êÏùÑ Îë°ÎãàÎã§.\n\n-   **User Agent Îç∞Ïù¥ÌÑ∞ Íµ¨Î¨∏ Î∂ÑÏÑù:** `Parse User Agent` ÎÖ∏ÎìúÎäî UserParser APIÎ•º ÏÇ¨Ïö©ÌïòÏó¨ ÌòÑÏû¨ Î°úÍ∑∏Ïù∏ ÏãúÎèÑÏùò user agent Î¨∏ÏûêÏó¥ÏùÑ Î∂ÑÏÑùÌï©ÎãàÎã§. Ïù¥ ÎÖ∏ÎìúÎäî Î°úÍ∑∏Ïù∏Ïóê ÏÇ¨Ïö©Îêú Î∏åÎùºÏö∞Ï†Ä, Ïö¥ÏòÅ Ï≤¥Ï†ú Î∞è Ïû•Ïπò Ïú†ÌòïÏóê ÎåÄÌïú ÏûêÏÑ∏Ìïú Ï†ïÎ≥¥Î•º Ï∂îÏ∂úÌïòÏó¨ Î°úÍ∑∏Ïù∏ ÌôòÍ≤ΩÏóê ÎåÄÌïú Ï§ëÏöîÌïú ÌÜµÏ∞∞ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.\n\n-   **Í≥ºÍ±∞ Îç∞Ïù¥ÌÑ∞ÏôÄ ÎπÑÍµê:** User agent Îç∞Ïù¥ÌÑ∞Î•º Íµ¨Î¨∏ Î∂ÑÏÑùÌïú ÌõÑ, ÏõåÌÅ¨ÌîåÎ°úÎäî `New Device/Browser?` ÎÖ∏ÎìúÎ°ú ÏßÑÌñâÎê©ÎãàÎã§. Ïù¥ ÎÖ∏ÎìúÎäî ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Ïùò Ïû•Ïπò Î∞è Î∏åÎùºÏö∞Ï†Ä ÏÑ∏Î∂Ä Ï†ïÎ≥¥Î•º ÏÇ¨Ïö©ÏûêÏùò Í≥ºÍ±∞ Îç∞Ïù¥ÌÑ∞( `Get last 10 logins from the same user` ÎÖ∏ÎìúÏóêÏÑú Í≤ÄÏÉâÎê®)ÏôÄ ÎπÑÍµêÌïòÏó¨ Î∂àÏùºÏπòÎ•º ÌôïÏù∏Ìï©ÎãàÎã§.\n\n-   **ÏÉà Ïû•Ïπò ÎòêÎäî Î∏åÎùºÏö∞Ï†Ä ÏÇ¨Ïö© Í∞êÏßÄ:** `New Device/Browser?` ÎÖ∏ÎìúÎäî Î∏åÎùºÏö∞Ï†Ä Ïù¥Î¶Ñ, Ïö¥ÏòÅ Ï≤¥Ï†ú ÎòêÎäî Ïû•Ïπò Ïú†ÌòïÏóê Î≥ÄÍ≤ΩÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§. Î≥ÄÍ≤ΩÏù¥ ÏûàÏúºÎ©¥ ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Ïù¥ ÏÉà Ïû•Ïπò ÎòêÎäî Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú ÏãúÎèÑÎêòÍ≥† ÏûàÏùåÏùÑ ÎÇòÌÉÄÎÇº Ïàò ÏûàÏúºÎ©∞, Ïù¥Îäî Î¨¥Îã® Ï†ëÍ∑ºÏùò Ïã†Ìò∏Ïùº Ïàò ÏûàÏäµÎãàÎã§.\n\n-   **Ïû•Ïπò Î∞è Î∏åÎùºÏö∞Ï†Ä ÏùºÍ¥ÄÏÑ±Ïóê Îî∞Î•∏ ÎùºÏö∞ÌåÖ:** Ïù¥ Î∂ÑÏÑùÏóê Îî∞Îùº ÏõåÌÅ¨ÌîåÎ°úÍ∞Ä Î∂ÑÍ∏∞Îê©ÎãàÎã§. ÏÉà Ïû•Ïπò ÎòêÎäî Î∏åÎùºÏö∞Ï†ÄÍ∞Ä Í∞êÏßÄÎêòÎ©¥ ÌùêÎ¶ÑÏù¥ `New Device/Browser` ÎÖ∏ÎìúÎ°ú Ïù¥ÎèôÌïòÏó¨ Ïû†Ïû¨Ï†Å Î≥¥Ïïà ÏúÑÌóòÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§. Î∞òÎåÄÎ°ú, Ïû•Ïπò Î∞è Î∏åÎùºÏö∞Ï†ÄÍ∞Ä Í≥ºÍ±∞ Ìå®ÌÑ¥Í≥º ÏùºÏπòÌïòÎ©¥ `Old Device/Browser` ÎÖ∏ÎìúÍ∞Ä ÌôúÏÑ±ÌôîÎêòÏñ¥ ÏùºÏÉÅÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§."
      },
      "typeVersion": 1
    },
    {
      "id": "e0bcc621-ff1f-47ca-a63a-f1af5c521c9a",
      "name": "Known, Do Nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        960,
        1440
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "92c08a63-6961-40f6-993e-052a311f4bb6",
      "name": "Known Location",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1660,
        1420
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "bb1621e0-8297-4e6c-bcdf-eae683a4b830",
      "name": "Old Device/Browser",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1674,
        1765
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "9c987dd1-8d27-4067-9956-712eae4a228c",
      "name": "Not Riot",
      "type": "n8n-nodes-base.noOp",
      "position": [
        780,
        520
      ],
      "parameters": {},
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "cd2fd77a-2903-44b8-826a-6797efb5f871",
  "connections": {
    "HTML": {
      "main": [
        [
          {
            "node": "Inform user",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Complete login info",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "riot?": {
      "main": [
        [
          {
            "node": "Check trust level",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Not Riot",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IP API": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "noise?": {
      "main": [
        [
          {
            "node": "Check classification",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "riot?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GreyNoise": {
      "main": [
        [
          {
            "node": "Complete login info",
            "type": "main",
            "index": 0
          },
          {
            "node": "noise?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UserParser": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "New Location": {
      "main": [
        [
          {
            "node": "Query user by ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Example event": {
      "main": [
        [
          {
            "node": "Extract relevant data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "New location?": {
      "main": [
        [
          {
            "node": "New Location",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Known Location",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Query IP API1": {
      "main": [
        [
          {
            "node": "New location?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Unknown threat?": {
      "main": [
        [
          {
            "node": "Get last 10 logins from the same user",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Known, Do Nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "User has email?": {
      "main": [
        [
          {
            "node": "HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "New /login event": {
      "main": [
        [
          {
            "node": "Extract relevant data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse User Agent": {
      "main": [
        [
          {
            "node": "New Device/Browser?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Query user by ID": {
      "main": [
        [
          {
            "node": "User has email?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check trust level": {
      "main": [
        [],
        [
          {
            "node": "üî¥ Priority: HIGH",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "üü° Priority: MEDIUM",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "üü¢ Priority: LOW",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "New Device/Browser": {
      "main": [
        [
          {
            "node": "Query user by ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üü¢ Priority: LOW": {
      "main": [
        [
          {
            "node": "Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Complete login info": {
      "main": [
        [
          {
            "node": "Unknown threat?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "New Device/Browser?": {
      "main": [
        [
          {
            "node": "New Device/Browser",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Old Device/Browser",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üî¥ Priority: HIGH": {
      "main": [
        [
          {
            "node": "Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check classification": {
      "main": [
        [
          {
            "node": "üî¥ Priority: HIGH",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "üü° Priority: MEDIUM",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "üü¢ Priority: LOW",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract relevant data": {
      "main": [
        [
          {
            "node": "GreyNoise",
            "type": "main",
            "index": 0
          },
          {
            "node": "UserParser",
            "type": "main",
            "index": 0
          },
          {
            "node": "IP API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üü° Priority: MEDIUM": {
      "main": [
        [
          {
            "node": "Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking \"Execute Workflow\"": {
      "main": [
        [
          {
            "node": "Example event",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get last 10 logins from the same user": {
      "main": [
        [
          {
            "node": "Query IP API1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Parse User Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}